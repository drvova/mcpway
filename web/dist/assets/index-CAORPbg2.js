var Yi=Object.defineProperty;var Zi=(e,t,n)=>t in e?Yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>Zi(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const G={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return mo(this.context.count)},getNextContextId(){return mo(this.context.count++)}};function mo(e){const t=String(e),n=t.length-1;return G.context.id+(n?String.fromCharCode(96+n):"")+t}function Ji(e){G.context=e}const Qi=!1,es=(e,t)=>e===t,$t=Symbol("solid-proxy"),sr=typeof Proxy=="function",lr=Symbol("solid-track"),Rt={equals:es};let ar=fr;const Me=1,_t=2,cr={owned:null,cleanups:null,context:null,owner:null};var B=null;let yn=null,ts=null,H=null,re=null,Te=null,jt=0;function qe(e,t){const n=H,o=B,r=e.length===0,i=t===void 0?o:t,l=r?cr:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=r?e:()=>e(()=>Q(()=>bt(l)));B=l,H=null;try{return at(s,!0)}finally{H=n,B=o}}function P(e,t){t=t?Object.assign({},Rt,t):Rt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=r=>(typeof r=="function"&&(r=r(n.value)),dr(n,r));return[ur.bind(n),o]}function ns(e,t,n){const o=qt(e,t,!0,Me);lt(o)}function ie(e,t,n){const o=qt(e,t,!1,Me);lt(o)}function K(e,t,n){ar=ss;const o=qt(e,t,!1,Me);(!n||!n.render)&&(o.user=!0),Te?Te.push(o):lt(o)}function T(e,t,n){n=n?Object.assign({},Rt,n):Rt;const o=qt(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,lt(o),ur.bind(o)}function Q(e){if(H===null)return e();const t=H;H=null;try{return e()}finally{H=t}}function Ye(e,t,n){const o=Array.isArray(e);let r,i=n&&n.defer;return l=>{let s;if(o){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(i)return i=!1,l;const a=Q(()=>t(s,r,l));return r=s,a}}function Gt(e){K(()=>Q(e))}function $(e){return B===null||(B.cleanups===null?B.cleanups=[e]:B.cleanups.push(e)),e}function yo(){return B}function os(e,t){const n=B,o=H;B=e,H=null;try{return at(t,!0)}catch(r){Bn(r)}finally{B=n,H=o}}function $e(e,t){const n=Symbol("context");return{id:n,Provider:as(n),defaultValue:e}}function Re(e){let t;return B&&B.context&&(t=B.context[e.id])!==void 0?t:e.defaultValue}function Vn(e){const t=T(e),n=T(()=>An(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}function ur(){if(this.sources&&this.state)if(this.state===Me)lt(this);else{const e=re;re=null,at(()=>Vt(this),!1),re=e}if(H){const e=this.observers?this.observers.length:0;H.sources?(H.sources.push(this),H.sourceSlots.push(e)):(H.sources=[this],H.sourceSlots=[e]),this.observers?(this.observers.push(H),this.observerSlots.push(H.sources.length-1)):(this.observers=[H],this.observerSlots=[H.sources.length-1])}return this.value}function dr(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&at(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],l=yn&&yn.running;l&&yn.disposed.has(i),(l?!i.tState:!i.state)&&(i.pure?re.push(i):Te.push(i),i.observers&&gr(i)),l||(i.state=Me)}if(re.length>1e6)throw re=[],new Error},!1)),t}function lt(e){if(!e.fn)return;bt(e);const t=jt;rs(e,e.value,t)}function rs(e,t,n){let o;const r=B,i=H;H=B=e;try{o=e.fn(t)}catch(l){return e.pure&&(e.state=Me,e.owned&&e.owned.forEach(bt),e.owned=null),e.updatedAt=n+1,Bn(l)}finally{H=i,B=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?dr(e,o):e.value=o,e.updatedAt=n)}function qt(e,t,n,o=Me,r){const i={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:B,context:B?B.context:null,pure:n};return B===null||B!==cr&&(B.owned?B.owned.push(i):B.owned=[i]),i}function Nt(e){if(e.state===0)return;if(e.state===_t)return Vt(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<jt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Me)lt(e);else if(e.state===_t){const o=re;re=null,at(()=>Vt(e,t[0]),!1),re=o}}function at(e,t){if(re)return e();let n=!1;t||(re=[]),Te?n=!0:Te=[],jt++;try{const o=e();return is(n),o}catch(o){n||(Te=null),re=null,Bn(o)}}function is(e){if(re&&(fr(re),re=null),e)return;const t=Te;Te=null,t.length&&at(()=>ar(t),!1)}function fr(e){for(let t=0;t<e.length;t++)Nt(e[t])}function ss(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:Nt(o)}if(G.context){if(G.count){G.effects||(G.effects=[]),G.effects.push(...e.slice(0,n));return}Ji()}for(G.effects&&!G.count&&(e=[...G.effects,...e],n+=G.effects.length,delete G.effects),t=0;t<n;t++)Nt(e[t])}function Vt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const r=o.state;r===Me?o!==t&&(!o.updatedAt||o.updatedAt<jt)&&Nt(o):r===_t&&Vt(o,t)}}}function gr(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=_t,n.pure?re.push(n):Te.push(n),n.observers&&gr(n))}}function bt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),l=n.observerSlots.pop();o<r.length&&(i.sourceSlots[l]=o,r[o]=i,n.observerSlots[o]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)bt(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)bt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ls(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Bn(e,t=B){throw ls(e)}function An(e){if(typeof e=="function"&&!e.length)return An(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=An(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function as(e,t){return function(o){let r;return ie(()=>r=Q(()=>(B.context={...B.context,[e]:o.value},Vn(()=>o.children))),void 0),r}}const cs=Symbol("fallback");function bo(e){for(let t=0;t<e.length;t++)e[t]()}function us(e,t,n={}){let o=[],r=[],i=[],l=0,s=t.length>1?[]:null;return $(()=>bo(i)),()=>{let a=e()||[],c=a.length,u,d;return a[lr],Q(()=>{let g,h,y,m,w,p,S,C,E;if(c===0)l!==0&&(bo(i),i=[],o=[],r=[],l=0,s&&(s=[])),n.fallback&&(o=[cs],r[0]=qe(I=>(i[0]=I,n.fallback())),l=1);else if(l===0){for(r=new Array(c),d=0;d<c;d++)o[d]=a[d],r[d]=qe(f);l=c}else{for(y=new Array(c),m=new Array(c),s&&(w=new Array(c)),p=0,S=Math.min(l,c);p<S&&o[p]===a[p];p++);for(S=l-1,C=c-1;S>=p&&C>=p&&o[S]===a[C];S--,C--)y[C]=r[S],m[C]=i[S],s&&(w[C]=s[S]);for(g=new Map,h=new Array(C+1),d=C;d>=p;d--)E=a[d],u=g.get(E),h[d]=u===void 0?-1:u,g.set(E,d);for(u=p;u<=S;u++)E=o[u],d=g.get(E),d!==void 0&&d!==-1?(y[d]=r[u],m[d]=i[u],s&&(w[d]=s[u]),d=h[d],g.set(E,d)):i[u]();for(d=p;d<c;d++)d in y?(r[d]=y[d],i[d]=m[d],s&&(s[d]=w[d],s[d](d))):r[d]=qe(f);r=r.slice(0,l=c),o=a.slice(0)}return r});function f(g){if(i[d]=g,s){const[h,y]=P(d);return s[d]=y,t(a[d],h)}return t(a[d])}}}function b(e,t){return Q(()=>e(t||{}))}function Kt(){return!0}const Pn={get(e,t,n){return t===$t?n:e.get(t)},has(e,t){return t===$t?!0:e.has(t)},set:Kt,deleteProperty:Kt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Kt,deleteProperty:Kt}},ownKeys(e){return e.keys()}};function bn(e){return(e=typeof e=="function"?e():e)?e:{}}function ds(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function F(...e){let t=!1;for(let l=0;l<e.length;l++){const s=e[l];t=t||!!s&&$t in s,e[l]=typeof s=="function"?(t=!0,T(s)):s}if(sr&&t)return new Proxy({get(l){for(let s=e.length-1;s>=0;s--){const a=bn(e[s])[l];if(a!==void 0)return a}},has(l){for(let s=e.length-1;s>=0;s--)if(l in bn(e[s]))return!0;return!1},keys(){const l=[];for(let s=0;s<e.length;s++)l.push(...Object.keys(bn(e[s])));return[...new Set(l)]}},Pn);const n={},o=Object.create(null);for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s)continue;const a=Object.getOwnPropertyNames(s);for(let c=a.length-1;c>=0;c--){const u=a[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(s,u);if(!o[u])o[u]=d.get?{enumerable:!0,configurable:!0,get:ds.bind(n[u]=[d.get.bind(s)])}:d.value!==void 0?d:void 0;else{const f=n[u];f&&(d.get?f.push(d.get.bind(s)):d.value!==void 0&&f.push(()=>d.value))}}}const r={},i=Object.keys(o);for(let l=i.length-1;l>=0;l--){const s=i[l],a=o[s];a&&a.get?Object.defineProperty(r,s,a):r[s]=a?a.value:void 0}return r}function R(e,...t){const n=t.length;if(sr&&$t in e){const r=n>1?t.flat():t[0],i=t.map(l=>new Proxy({get(s){return l.includes(s)?e[s]:void 0},has(s){return l.includes(s)&&s in e},keys(){return l.filter(s=>s in e)}},Pn));return i.push(new Proxy({get(l){return r.includes(l)?void 0:e[l]},has(l){return r.includes(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.includes(l))}},Pn)),i}const o=[];for(let r=0;r<=n;r++)o[r]={};for(const r of Object.getOwnPropertyNames(e)){let i=n;for(let a=0;a<t.length;a++)if(t[a].includes(r)){i=a;break}const l=Object.getOwnPropertyDescriptor(e,r);!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable?o[i][r]=l.value:Object.defineProperty(o[i],r,l)}return o}let fs=0;function Ze(){return G.context?G.getNextContextId():`cl-${fs++}`}const hr=e=>`Stale read from <${e}>.`;function Bt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return T(us(()=>e.each,e.children,t||void 0))}function q(e){const t=e.keyed,n=T(()=>e.when,void 0,void 0),o=t?n:T(n,void 0,{equals:(r,i)=>!r==!i});return T(()=>{const r=o();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Q(()=>i(t?r:()=>{if(!Q(o))throw hr("Show");return n()})):i}return e.fallback},void 0,void 0)}function gs(e){const t=Vn(()=>e.children),n=T(()=>{const o=t(),r=Array.isArray(o)?o:[o];let i=()=>{};for(let l=0;l<r.length;l++){const s=l,a=r[l],c=i,u=T(()=>c()?void 0:a.when,void 0,void 0),d=a.keyed?u:T(u,void 0,{equals:(f,g)=>!f==!g});i=()=>c()||(d()?[s,u,a]:void 0)}return i});return T(()=>{const o=n()();if(!o)return e.fallback;const[r,i,l]=o,s=l.children;return typeof s=="function"&&s.length>0?Q(()=>s(l.keyed?i():()=>{if(Q(n)()?.[0]!==r)throw hr("Match");return i()})):s},void 0,void 0)}function vo(e){return e}const hs=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],ps=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...hs]),ms=new Set(["innerHTML","textContent","innerText","children"]),ys=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),bs=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function vs(e,t){const n=bs[e];return typeof n=="object"?n[t]?n.$:void 0:n}const ws=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ss=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),xs={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Oe=e=>T(()=>e());function Cs(e,t,n){let o=n.length,r=t.length,i=o,l=0,s=0,a=t[r-1].nextSibling,c=null;for(;l<r||s<i;){if(t[l]===n[s]){l++,s++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===l){const u=i<o?s?n[s-1].nextSibling:n[i-s]:a;for(;s<i;)e.insertBefore(n[s++],u)}else if(i===s)for(;l<r;)(!c||!c.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[i-1]&&n[s]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[s++],t[l++].nextSibling),e.insertBefore(n[--i],u),t[r]=n[i]}else{if(!c){c=new Map;let d=s;for(;d<i;)c.set(n[d],d++)}const u=c.get(t[l]);if(u!=null)if(s<u&&u<i){let d=l,f=1,g;for(;++d<r&&d<i&&!((g=c.get(t[d]))==null||g!==u+f);)f++;if(f>u-s){const h=t[l];for(;s<u;)e.insertBefore(n[s++],h)}else e.replaceChild(n[s++],t[l++])}else l++;else t[l++].remove()}}}const wo="_$DX_DELEGATE";function Es(e,t,n,o={}){let r;return qe(i=>{r=i,t===document?e():L(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{r(),t.textContent=""}}function U(e,t,n,o){let r;const i=()=>{const s=o?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:o?s.firstChild:s.content.firstChild},l=t?()=>Q(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return l.cloneNode=l,l}function Os(e,t=window.document){const n=t[wo]||(t[wo]=new Set);for(let o=0,r=e.length;o<r;o++){const i=e[o];n.has(i)||(n.add(i),t.addEventListener(i,Fs))}}function Ke(e,t,n){Je(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Ds(e,t,n,o){Je(e)||(o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o))}function As(e,t,n){Je(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function vt(e,t){Je(e)||(t==null?e.removeAttribute("class"):e.className=t)}function Ps(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=i=>r.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Is(e,t,n={}){const o=Object.keys(t||{}),r=Object.keys(n);let i,l;for(i=0,l=r.length;i<l;i++){const s=r[i];!s||s==="undefined"||t[s]||(So(e,s,!1),delete n[s])}for(i=0,l=o.length;i<l;i++){const s=o[i],a=!!t[s];!s||s==="undefined"||n[s]===a||!a||(So(e,s,!0),n[s]=a)}return n}function pr(e,t,n){if(!t)return n?Ke(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let r,i;for(i in n)t[i]==null&&o.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(o.setProperty(i,r),n[i]=r);return n}function Xt(e,t={},n,o){const r={};return o||ie(()=>r.children=wt(e,t.children,r.children)),ie(()=>typeof t.ref=="function"&&mr(t.ref,e)),ie(()=>Ls(e,t,n,!0,r,!0)),r}function mr(e,t,n){return Q(()=>e(t,n))}function L(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return wt(e,t,o,n);ie(r=>wt(e,t(),r,n),o)}function Ls(e,t,n,o,r={},i=!1){t||(t={});for(const l in r)if(!(l in t)){if(l==="children")continue;r[l]=xo(e,l,null,r[l],n,i,t)}for(const l in t){if(l==="children")continue;const s=t[l];r[l]=xo(e,l,s,r[l],n,i,t)}}function Ts(e){let t,n;return!Je()||!(t=G.registry.get(n=ks()))?e():(G.completed&&G.completed.add(t),G.registry.delete(n),t)}function Je(e){return!!G.context&&!0&&(!e||e.isConnected)}function Ks(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function So(e,t,n){const o=t.trim().split(/\s+/);for(let r=0,i=o.length;r<i;r++)e.classList.toggle(o[r],n)}function xo(e,t,n,o,r,i,l){let s,a,c,u,d;if(t==="style")return pr(e,n,o);if(t==="classList")return Is(e,n,o);if(n===o)return o;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);o&&e.removeEventListener(f,o,typeof o!="function"&&o),n&&e.addEventListener(f,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);o&&e.removeEventListener(f,o,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),g=ws.has(f);if(!g&&o){const h=Array.isArray(o)?o[0]:o;e.removeEventListener(f,h)}(g||n)&&(Ps(e,f,n,g),g&&Os([f]))}else if(t.slice(0,5)==="attr:")Ke(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")As(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=ms.has(t))||!r&&((u=vs(t,e.tagName))||(a=ps.has(t)))||(s=e.nodeName.includes("-")||"is"in l)){if(d)t=t.slice(5),a=!0;else if(Je(e))return n;t==="class"||t==="className"?vt(e,n):s&&!a&&!c?e[Ks(t)]=n:e[u||t]=n}else{const f=r&&t.indexOf(":")>-1&&xs[t.split(":")[0]];f?Ds(e,f,t,n):Ke(e,ys[t]||t,n)}return n}function Fs(e){let t=e.target;const n=`$$${e.type}`,o=e.target,r=e.currentTarget,i=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),l=()=>{const a=t[n];if(a&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?a.call(t,c,e):a.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},s=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const a=e.composedPath();i(a[0]);for(let c=0;c<a.length-2&&(t=a[c],!!l());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===r)break}}else s();i(o)}function wt(e,t,n,o,r){const i=Je(e);if(i){!n&&(n=[...e.childNodes]);let a=[];for(let c=0;c<n.length;c++){const u=n[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():a.push(u)}n=a}for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,s=o!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(i||l==="number"&&(t=t.toString(),t===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=nt(e,n,o,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean"){if(i)return n;n=nt(e,n,o)}else{if(l==="function")return ie(()=>{let a=t();for(;typeof a=="function";)a=a();n=wt(e,a,n,o)}),()=>n;if(Array.isArray(t)){const a=[],c=n&&Array.isArray(n);if(In(a,t,n,r))return ie(()=>n=wt(e,a,n,o,!0)),()=>n;if(i){if(!a.length)return n;if(o===void 0)return n=[...e.childNodes];let u=a[0];if(u.parentNode!==e)return n;const d=[u];for(;(u=u.nextSibling)!==o;)d.push(u);return n=d}if(a.length===0){if(n=nt(e,n,o),s)return n}else c?n.length===0?Co(e,a,o):Cs(e,n,a):(n&&nt(e),Co(e,a));n=a}else if(t.nodeType){if(i&&t.parentNode)return n=s?[t]:t;if(Array.isArray(n)){if(s)return n=nt(e,n,o,t);nt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function In(e,t,n,o){let r=!1;for(let i=0,l=t.length;i<l;i++){let s=t[i],a=n&&n[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))r=In(e,s,a)||r;else if(c==="function")if(o){for(;typeof s=="function";)s=s();r=In(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||r}else e.push(s),r=!0;else{const u=String(s);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return r}function Co(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function nt(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let i=!1;for(let l=t.length-1;l>=0;l--){const s=t[l];if(r!==s){const a=s.parentNode===e;!i&&!l?a?e.replaceChild(r,s):e.insertBefore(r,n):a&&s.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}function ks(){return G.getNextContextId()}const Ms="http://www.w3.org/2000/svg";function yr(e,t=!1,n=void 0){return t?document.createElementNS(Ms,e):document.createElement(e,{is:n})}function br(e){const{useShadow:t}=e,n=document.createTextNode(""),o=()=>e.mount||document.body,r=yo();let i,l=!!G.context;return K(()=>{l&&(yo().user=l=!1),i||(i=os(r,()=>T(()=>e.children)));const s=o();if(s instanceof HTMLHeadElement){const[a,c]=P(!1),u=()=>c(!0);qe(d=>L(s,()=>a()?d():i(),null)),$(u)}else{const a=yr(e.isSVG?"g":"div",e.isSVG),c=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),L(c,i),s.appendChild(a),e.ref&&e.ref(a),$(()=>s.removeChild(a))}},void 0,{render:!l}),n}function $s(e,t){const n=T(e);return T(()=>{const o=n();switch(typeof o){case"function":return Q(()=>o(t));case"string":const r=Ss.has(o),i=G.context?Ts():yr(o,r,Q(()=>t.is));return Xt(i,t,r),i}})}function Rs(e){const[,t]=R(e,["component"]);return $s(()=>e.component,t)}const _s="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZwogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICB3aWR0aD0iMTIwMCIKICBoZWlnaHQ9IjMwMCIKICB2aWV3Qm94PSIwIDAgMTIwMCAzMDAiCiAgcm9sZT0iaW1nIgogIGFyaWEtbGFiZWw9Im1jcHdheSBhc2NpaSBsb2dvIgo+CiAgPGcKICAgIGZpbGw9IiMwMEU1RkYiCiAgICBmb250LWZhbWlseT0iSmV0QnJhaW5zIE1vbm8sIEZpcmEgQ29kZSwgQ29uc29sYXMsIE1lbmxvLCBEZWphVnUgU2FucyBNb25vLCBOb3RvIFNhbnMgTW9ubywgTGliZXJhdGlvbiBNb25vLCBtb25vc3BhY2UiCiAgICBmb250LXNpemU9IjQ4IgogICAgdGV4dC1hbmNob3I9Im1pZGRsZSIKICAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgPgogICAgPHRleHQgeD0iNjAwIiB5PSIxMTAiPuKWkeKWiOKWhOKWiOKWkeKWiOKWgOKWgOKWkeKWiOKWgOKWiOKWkeKWiOKWkeKWiOKWkeKWiOKWgOKWiOKWkeKWiOKWkeKWiDwvdGV4dD4KICAgIDx0ZXh0IHg9IjYwMCIgeT0iMTcwIj7ilpHilojilpHilojilpHilojilpHilpHilpHilojiloDiloDilpHilojiloTilojilpHilojiloDilojilpHilpHilojilpE8L3RleHQ+CiAgICA8dGV4dCB4PSI2MDAiIHk9IjIzMCI+4paR4paA4paR4paA4paR4paA4paA4paA4paR4paA4paR4paR4paR4paA4paR4paA4paR4paA4paR4paA4paR4paR4paA4paRPC90ZXh0PgogIDwvZz4KPC9zdmc+Cg==";var Ns=U("<img loading=eager decoding=async>",!0,!1,!1);function vr(e){return(()=>{var t=Ns();return Ke(t,"src",_s),Ke(t,"draggable",!1),ie(n=>{var o=e.alt??"MCPway",r=e.class;return o!==n.e&&Ke(t,"alt",n.e=o),r!==n.t&&vt(t,n.t=r),n},{e:void 0,t:void 0}),t})()}function Vs(e){return(...t)=>{for(const n of e)n&&n(...t)}}const v=e=>typeof e=="function"&&!e.length?e():e,Eo=e=>Array.isArray(e)?e:e?[e]:[];function Bs(e,...t){return typeof e=="function"?e(...t):e}const Ws=$;function zs(e,t,n,o){return e.addEventListener(t,n,o),Ws(e.removeEventListener.bind(e,t,n,o))}function Hs(e,t,n,o){const r=()=>{Eo(v(e)).forEach(i=>{i&&Eo(v(t)).forEach(l=>zs(i,l,n,o))})};typeof e=="function"?K(r):ie(r)}const vn=Symbol("fallback");function Oo(e){for(const t of e)t.dispose()}function Us(e,t,n,o={}){const r=new Map;return $(()=>Oo(r.values())),()=>{const l=e()||[];return l[lr],Q(()=>{if(!l.length)return Oo(r.values()),r.clear(),o.fallback?[qe(d=>(r.set(vn,{dispose:d}),o.fallback()))]:[];const s=new Array(l.length),a=r.get(vn);if(!r.size||a){a?.dispose(),r.delete(vn);for(let u=0;u<l.length;u++){const d=l[u],f=t(d,u);i(s,d,u,f)}return s}const c=new Set(r.keys());for(let u=0;u<l.length;u++){const d=l[u],f=t(d,u);c.delete(f);const g=r.get(f);g?(s[u]=g.mapped,g.setIndex?.(u),g.setItem(()=>d)):i(s,d,u,f)}for(const u of c)r.get(u)?.dispose(),r.delete(u);return s})};function i(l,s,a,c){qe(u=>{const[d,f]=P(s),g={setItem:f,dispose:u};if(n.length>1){const[h,y]=P(a);g.setIndex=y,g.mapped=n(d,h)}else g.mapped=n(d);r.set(c,g),l[a]=g.mapped})}}function js(e){const{by:t}=e;return T(Us(()=>e.each,typeof t=="function"?t:n=>n[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}const Gs=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Do(e){const t={};let n;for(;n=Gs.exec(e);)t[n[1]]=n[2];return t}function Yt(e,t){if(typeof e=="string"){if(typeof t=="string")return`${e};${t}`;e=Do(e)}else typeof t=="string"&&(t=Do(t));return{...e,...t}}function se(...e){return Vs(e)}function Ao(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function qs(e){return typeof e=="number"}function ot(e){return Object.prototype.toString.call(e)==="[object String]"}function Wn(e){return typeof e=="function"}function ct(e){return t=>`${e()}-${t}`}function Ie(e,t){return e?e===t||e.contains(t):!1}function mt(e,t=!1){const{activeElement:n}=Fe(e);if(!n?.nodeName)return null;if(wr(n)&&n.contentDocument)return mt(n.contentDocument.body,t);if(t){const o=n.getAttribute("aria-activedescendant");if(o){const r=Fe(n).getElementById(o);if(r)return r}}return n}function Xs(e){return Fe(e).defaultView||window}function Fe(e){return e?e.ownerDocument||e:document}function wr(e){return e.tagName==="IFRAME"}var Sr=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(Sr||{});function xr(e){return typeof window>"u"||window.navigator==null?!1:window.navigator.userAgentData?.brands.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function zn(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.userAgentData?.platform||window.navigator.platform):!1}function Ct(){return zn(/^Mac/i)}function Ys(){return zn(/^iPhone/i)}function Zs(){return zn(/^iPad/i)||Ct()&&navigator.maxTouchPoints>1}function Js(){return Ys()||Zs()}function Qs(){return Ct()||Js()}function el(){return xr(/AppleWebKit/i)&&!tl()}function tl(){return xr(/Chrome/i)}function ae(e,t){return t&&(Wn(t)?t(e):t[0](t[1],e)),e?.defaultPrevented}function ce(e){return t=>{for(const n of e)ae(t,n)}}function nl(e){return Ct()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function oe(e){if(e)if(ol())e.focus({preventScroll:!0});else{const t=rl(e);e.focus(),il(t)}}var Ft=null;function ol(){if(Ft==null){Ft=!1;try{document.createElement("div").focus({get preventScroll(){return Ft=!0,!0}})}catch{}}return Ft}function rl(e){let t=e.parentNode;const n=[],o=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return o instanceof HTMLElement&&n.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),n}function il(e){for(const{element:t,scrollTop:n,scrollLeft:o}of e)t.scrollTop=n,t.scrollLeft=o}var Cr=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],sl=[...Cr,'[tabindex]:not([tabindex="-1"]):not([disabled])'],Hn=`${Cr.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`,ll=sl.join(':not([hidden]):not([tabindex="-1"]),');function Er(e,t){const o=Array.from(e.querySelectorAll(Hn)).filter(Po);return t&&Po(e)&&o.unshift(e),o.forEach((r,i)=>{if(wr(r)&&r.contentDocument){const l=r.contentDocument.body,s=Er(l,!1);o.splice(i,1,...s)}}),o}function Po(e){return Or(e)&&!al(e)}function Or(e){return e.matches(Hn)&&Un(e)}function al(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function Un(e,t){return e.nodeName!=="#comment"&&cl(e)&&ul(e,t)&&(!e.parentElement||Un(e.parentElement,e))}function cl(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:n}=e.style;let o=t!=="none"&&n!=="hidden"&&n!=="collapse";if(o){if(!e.ownerDocument.defaultView)return o;const{getComputedStyle:r}=e.ownerDocument.defaultView,{display:i,visibility:l}=r(e);o=i!=="none"&&l!=="hidden"&&l!=="collapse"}return o}function ul(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function dl(e,t,n){const o=t?.tabbable?ll:Hn,r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(i){return t?.from?.contains(i)?NodeFilter.FILTER_REJECT:i.matches(o)&&Un(i)&&(!t?.accept||t.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(r.currentNode=t.from),r}function fl(){}function W(e,t){return F(e,t)}var ht=new Map,Io=new Set;function Lo(){if(typeof window>"u")return;const e=n=>{if(!n.target)return;let o=ht.get(n.target);o||(o=new Set,ht.set(n.target,o),n.target.addEventListener("transitioncancel",t)),o.add(n.propertyName)},t=n=>{if(!n.target)return;const o=ht.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",t),ht.delete(n.target)),ht.size===0)){for(const r of Io)r();Io.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?Lo():document.addEventListener("DOMContentLoaded",Lo));function To(e,t){const n=Ko(e,t,"left"),o=Ko(e,t,"top"),r=t.offsetWidth,i=t.offsetHeight;let l=e.scrollLeft,s=e.scrollTop;const a=l+e.offsetWidth,c=s+e.offsetHeight;n<=l?l=n:n+r>a&&(l+=n+r-a),o<=s?s=o:o+i>c&&(s+=o+i-c),e.scrollLeft=l,e.scrollTop=s}function Ko(e,t,n){const o=n==="left"?"offsetLeft":"offsetTop";let r=0;for(;t.offsetParent&&(r+=t[o],t.offsetParent!==e);){if(t.offsetParent.contains(e)){r-=e[o];break}t=t.offsetParent}return r}var Dr={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"};function Ar(e,t){const[n,o]=P(Fo(t?.()));return K(()=>{o(e()?.tagName.toLowerCase()||Fo(t?.()))}),n}function Fo(e){return ot(e)?e:void 0}function X(e){const[t,n]=R(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return b(Rs,F(n,{get component(){return t.as}}))}var gl=Object.defineProperty,Et=(e,t)=>{for(var n in t)gl(e,n,{get:t[n],enumerable:!0})},hl={};Et(hl,{Button:()=>jn,Root:()=>Ot});var pl=["button","color","file","image","reset","submit"];function ml(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?pl.indexOf(e.type)!==-1:!1}function Ot(e){let t;const n=W({type:"button"},e),[o,r]=R(n,["ref","type","disabled"]),i=Ar(()=>t,()=>"button"),l=T(()=>{const c=i();return c==null?!1:ml({tagName:c,type:o.type})}),s=T(()=>i()==="input"),a=T(()=>i()==="a"&&t?.getAttribute("href")!=null);return b(X,F({as:"button",ref(c){var u=se(d=>t=d,o.ref);typeof u=="function"&&u(c)},get type(){return Oe(()=>!!(l()||s()))()?o.type:void 0},get role(){return!l()&&!a()?"button":void 0},get tabIndex(){return!l()&&!a()&&!o.disabled?0:void 0},get disabled(){return Oe(()=>!!(l()||s()))()?o.disabled:void 0},get"aria-disabled"(){return!l()&&!s()&&o.disabled?!0:void 0},get"data-disabled"(){return o.disabled?"":void 0}},r))}var jn=Ot;function Ne(e){const[t,n]=R(e,["variant","size","class","classList"]);return b(jn,F(n,{"data-component":"button",get"data-size"(){return t.size??"normal"},get"data-variant"(){return t.variant??"secondary"},get classList(){return{...t.classList??{},[t.class??""]:!!t.class}},get children(){return e.children}}))}function yl(e){const[t,n]=R(e,["label","size","variant","class","classList"]);return b(jn,F(n,{get"aria-label"(){return t.label},get title(){return t.label},"data-component":"icon-button",get"data-size"(){return t.size??"normal"},get"data-variant"(){return t.variant??"ghost"},get classList(){return{...t.classList??{},[t.class??""]:!!t.class}},get children(){return e.children}}))}var bl=U("<div>");function Ln(e){const[t,n]=R(e,["variant","class","classList"]);return(()=>{var o=bl();return Xt(o,F(n,{"data-component":"card",get"data-variant"(){return t.variant??"normal"},get classList(){return{...t.classList??{},[t.class??""]:!!t.class}}}),!1,!0),L(o,()=>e.children),o})()}var vl=U("<div>");function wn(e){const[t,n]=R(e,["class","classList"]);return(()=>{var o=vl();return Xt(o,F(n,{"data-component":"scroll-view",get classList(){return{...t.classList??{},[t.class??""]:!!t.class}}}),!1,!0),L(o,()=>e.children),o})()}function Pr(e){let t=e.startIndex??0;const n=e.startLevel??0,o=[],r=a=>{if(a==null)return"";const c=e.getKey??"key",u=ot(c)?a[c]:c(a);return u!=null?String(u):""},i=a=>{if(a==null)return"";const c=e.getTextValue??"textValue",u=ot(c)?a[c]:c(a);return u!=null?String(u):""},l=a=>{if(a==null)return!1;const c=e.getDisabled??"disabled";return(ot(c)?a[c]:c(a))??!1},s=a=>{if(a!=null)return ot(e.getSectionChildren)?a[e.getSectionChildren]:e.getSectionChildren?.(a)};for(const a of e.dataSource){if(ot(a)||qs(a)){o.push({type:"item",rawValue:a,key:String(a),textValue:String(a),disabled:l(a),level:n,index:t}),t++;continue}if(s(a)!=null){o.push({type:"section",rawValue:a,key:"",textValue:"",disabled:!1,level:n,index:t}),t++;const c=s(a)??[];if(c.length>0){const u=Pr({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:n+1});o.push(...u),t+=u.length}}else o.push({type:"item",rawValue:a,key:r(a),textValue:i(a),disabled:l(a),level:n,index:t}),t++}return o}function wl(e,t=[]){return T(()=>{const n=Pr({dataSource:v(e.dataSource),getKey:v(e.getKey),getTextValue:v(e.getTextValue),getDisabled:v(e.getDisabled),getSectionChildren:v(e.getSectionChildren)});for(let o=0;o<t.length;o++)t[o]();return e.factory(n)})}var Sl=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),xl=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Cl(e){if(Intl.Locale){const n=new Intl.Locale(e).maximize().script??"";return Sl.has(n)}const t=e.split("-")[0];return xl.has(t)}function El(e){return Cl(e)?"rtl":"ltr"}function Ir(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:El(e)}}var Tn=Ir(),yt=new Set;function ko(){Tn=Ir();for(const e of yt)e(Tn)}function Ol(){const[e,t]=P(Tn),n=T(()=>e());return Gt(()=>{yt.size===0&&window.addEventListener("languagechange",ko),yt.add(t),$(()=>{yt.delete(t),yt.size===0&&window.removeEventListener("languagechange",ko)})}),{locale:()=>n().locale,direction:()=>n().direction}}var Dl=$e();function Gn(){const e=Ol();return Re(Dl)||e}var Sn=new Map;function Lr(e){const{locale:t}=Gn(),n=T(()=>t()+(e?Object.entries(e).sort((o,r)=>o[0]<r[0]?-1:1).join():""));return T(()=>{const o=n();let r;return Sn.has(o)&&(r=Sn.get(o)),r||(r=new Intl.Collator(t(),e),Sn.set(o,r)),r})}function qn(e){const[t,n]=P(e.defaultValue?.()),o=T(()=>e.value?.()!==void 0),r=T(()=>o()?e.value?.():t());return[r,l=>{Q(()=>{const s=Bs(l,r());return Object.is(s,r())||(o()||n(s),e.onChange?.(s)),s})}]}function Al(e){const[t,n]=qn(e);return[()=>t()??!1,n]}var Ce=class Tr extends Set{constructor(n,o,r){super(n);me(this,"anchorKey");me(this,"currentKey");n instanceof Tr?(this.anchorKey=o||n.anchorKey,this.currentKey=r||n.currentKey):(this.anchorKey=o,this.currentKey=r)}};function Pl(e){const[t,n]=qn(e);return[()=>t()??new Ce,n]}function Kr(e){return Qs()?e.altKey:e.ctrlKey}function rt(e){return Ct()?e.metaKey:e.ctrlKey}function Mo(e){return new Ce(e)}function Fr(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Il(e){const t=W({selectionMode:"none",selectionBehavior:"toggle"},e),[n,o]=P(!1),[r,i]=P(),l=T(()=>{const y=v(t.selectedKeys);return y!=null?Mo(y):y}),s=T(()=>{const y=v(t.defaultSelectedKeys);return y!=null?Mo(y):new Ce}),[a,c]=Pl({value:l,defaultValue:s,onChange:y=>t.onSelectionChange?.(y)}),[u,d]=P(v(t.selectionBehavior)),f=()=>v(t.selectionMode),g=()=>v(t.disallowEmptySelection)??!1,h=y=>{(v(t.allowDuplicateSelectionEvents)||!Fr(y,a()))&&c(y)};return K(()=>{const y=a();v(t.selectionBehavior)==="replace"&&u()==="toggle"&&typeof y=="object"&&y.size===0&&d("replace")}),K(()=>{d(v(t.selectionBehavior)??"toggle")}),{selectionMode:f,disallowEmptySelection:g,selectionBehavior:u,setSelectionBehavior:d,isFocused:n,setFocused:o,focusedKey:r,setFocusedKey:i,selectedKeys:a,setSelectedKeys:h}}function kr(e){const[t,n]=P(""),[o,r]=P(-1);return{typeSelectHandlers:{onKeyDown:l=>{if(v(e.isDisabled))return;const s=v(e.keyboardDelegate),a=v(e.selectionManager);if(!s.getKeyForSearch)return;const c=Ll(l.key);if(!c||l.ctrlKey||l.metaKey)return;c===" "&&t().trim().length>0&&(l.preventDefault(),l.stopPropagation());let u=n(f=>f+c),d=s.getKeyForSearch(u,a.focusedKey())??s.getKeyForSearch(u);d==null&&Tl(u)&&(u=u[0],d=s.getKeyForSearch(u,a.focusedKey())??s.getKeyForSearch(u)),d!=null&&(a.setFocusedKey(d),e.onTypeSelect?.(d)),clearTimeout(o()),r(window.setTimeout(()=>n(""),500))}}}}function Ll(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Tl(e){return e.split("").every(t=>t===e[0])}function Kl(e,t,n){const r=F({selectOnFocus:()=>v(e.selectionManager).selectionBehavior()==="replace"},e),i=()=>n?.()??t(),{direction:l}=Gn();let s={top:0,left:0};Hs(()=>v(r.isVirtualized)?void 0:i(),"scroll",()=>{const m=i();m&&(s={top:m.scrollTop,left:m.scrollLeft})});const{typeSelectHandlers:a}=kr({isDisabled:()=>v(r.disallowTypeAhead),keyboardDelegate:()=>v(r.keyboardDelegate),selectionManager:()=>v(r.selectionManager)}),c=()=>v(r.orientation)??"vertical",u=m=>{ae(m,a.onKeyDown),m.altKey&&m.key==="Tab"&&m.preventDefault();const w=t();if(!w?.contains(m.target))return;const p=v(r.selectionManager),S=v(r.selectOnFocus),C=O=>{O!=null&&(p.setFocusedKey(O),m.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(O):S&&!Kr(m)&&p.replaceSelection(O))},E=v(r.keyboardDelegate),I=v(r.shouldFocusWrap),A=p.focusedKey();switch(m.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if(E.getKeyBelow){m.preventDefault();let O;A!=null?O=E.getKeyBelow(A):O=E.getFirstKey?.(),O==null&&I&&(O=E.getFirstKey?.(A)),C(O)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if(E.getKeyAbove){m.preventDefault();let O;A!=null?O=E.getKeyAbove(A):O=E.getLastKey?.(),O==null&&I&&(O=E.getLastKey?.(A)),C(O)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if(E.getKeyLeftOf){m.preventDefault();const O=l()==="rtl";let M;A!=null?M=E.getKeyLeftOf(A):M=O?E.getFirstKey?.():E.getLastKey?.(),C(M)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if(E.getKeyRightOf){m.preventDefault();const O=l()==="rtl";let M;A!=null?M=E.getKeyRightOf(A):M=O?E.getLastKey?.():E.getFirstKey?.(),C(M)}break}case"Home":if(E.getFirstKey){m.preventDefault();const O=E.getFirstKey(A,rt(m));O!=null&&(p.setFocusedKey(O),rt(m)&&m.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(O):S&&p.replaceSelection(O))}break;case"End":if(E.getLastKey){m.preventDefault();const O=E.getLastKey(A,rt(m));O!=null&&(p.setFocusedKey(O),rt(m)&&m.shiftKey&&p.selectionMode()==="multiple"?p.extendSelection(O):S&&p.replaceSelection(O))}break;case"PageDown":if(E.getKeyPageBelow&&A!=null){m.preventDefault();const O=E.getKeyPageBelow(A);C(O)}break;case"PageUp":if(E.getKeyPageAbove&&A!=null){m.preventDefault();const O=E.getKeyPageAbove(A);C(O)}break;case"a":rt(m)&&p.selectionMode()==="multiple"&&v(r.disallowSelectAll)!==!0&&(m.preventDefault(),p.selectAll());break;case"Escape":m.defaultPrevented||(m.preventDefault(),v(r.disallowEmptySelection)||p.clearSelection());break;case"Tab":if(!v(r.allowsTabNavigation)){if(m.shiftKey)w.focus();else{const O=dl(w,{tabbable:!0});let M,_;do _=O.lastChild(),_&&(M=_);while(_);M&&!M.contains(document.activeElement)&&oe(M)}break}}},d=m=>{const w=v(r.selectionManager),p=v(r.keyboardDelegate),S=v(r.selectOnFocus);if(w.isFocused()){m.currentTarget.contains(m.target)||w.setFocused(!1);return}if(m.currentTarget.contains(m.target)){if(w.setFocused(!0),w.focusedKey()==null){const C=I=>{I!=null&&(w.setFocusedKey(I),S&&w.replaceSelection(I))},E=m.relatedTarget;E&&m.currentTarget.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?C(w.lastSelectedKey()??p.getLastKey?.()):C(w.firstSelectedKey()??p.getFirstKey?.())}else if(!v(r.isVirtualized)){const C=i();if(C){C.scrollTop=s.top,C.scrollLeft=s.left;const E=C.querySelector(`[data-key="${w.focusedKey()}"]`);E&&(oe(E),To(C,E))}}}},f=m=>{const w=v(r.selectionManager);m.currentTarget.contains(m.relatedTarget)||w.setFocused(!1)},g=m=>{i()===m.target&&m.preventDefault()},h=()=>{const m=v(r.autoFocus);if(!m)return;const w=v(r.selectionManager),p=v(r.keyboardDelegate);let S;m==="first"&&(S=p.getFirstKey?.()),m==="last"&&(S=p.getLastKey?.());const C=w.selectedKeys();C.size&&(S=C.values().next().value),w.setFocused(!0),w.setFocusedKey(S);const E=t();E&&S==null&&!v(r.shouldUseVirtualFocus)&&oe(E)};return Gt(()=>{r.deferAutoFocus?setTimeout(h,0):h()}),K(Ye([i,()=>v(r.isVirtualized),()=>v(r.selectionManager).focusedKey()],m=>{const[w,p,S]=m;if(p)S&&r.scrollToKey?.(S);else if(S&&w){const C=w.querySelector(`[data-key="${S}"]`);C&&To(w,C)}})),{tabIndex:T(()=>{if(!v(r.shouldUseVirtualFocus))return v(r.selectionManager).focusedKey()==null?0:-1}),onKeyDown:u,onMouseDown:g,onFocusIn:d,onFocusOut:f}}function Fl(e,t){const n=()=>v(e.selectionManager),o=()=>v(e.key),r=()=>v(e.shouldUseVirtualFocus),i=p=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(o())&&!n().disallowEmptySelection()?n().toggleSelection(o()):n().replaceSelection(o()):p?.shiftKey?n().extendSelection(o()):n().selectionBehavior()==="toggle"||rt(p)||"pointerType"in p&&p.pointerType==="touch"?n().toggleSelection(o()):n().replaceSelection(o()))},l=()=>n().isSelected(o()),s=()=>v(e.disabled)||n().isDisabled(o()),a=()=>!s()&&n().canSelectItem(o());let c=null;const u=p=>{a()&&(c=p.pointerType,p.pointerType==="mouse"&&p.button===0&&!v(e.shouldSelectOnPressUp)&&i(p))},d=p=>{a()&&p.pointerType==="mouse"&&p.button===0&&v(e.shouldSelectOnPressUp)&&v(e.allowsDifferentPressOrigin)&&i(p)},f=p=>{a()&&(v(e.shouldSelectOnPressUp)&&!v(e.allowsDifferentPressOrigin)||c!=="mouse")&&i(p)},g=p=>{!a()||!["Enter"," "].includes(p.key)||(Kr(p)?n().toggleSelection(o()):i(p))},h=p=>{s()&&p.preventDefault()},y=p=>{const S=t();r()||s()||!S||p.target===S&&n().setFocusedKey(o())},m=T(()=>{if(!(r()||s()))return o()===n().focusedKey()?0:-1}),w=T(()=>v(e.virtualized)?void 0:o());return K(Ye([t,o,r,()=>n().focusedKey(),()=>n().isFocused()],([p,S,C,E,I])=>{p&&S===E&&I&&!C&&document.activeElement!==p&&(e.focus?e.focus():oe(p))})),{isSelected:l,isDisabled:s,allowsSelection:a,tabIndex:m,dataKey:w,onPointerDown:u,onPointerUp:d,onClick:f,onKeyDown:g,onMouseDown:h,onFocus:y}}var kl=class{constructor(e,t){me(this,"collection");me(this,"state");this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index<e.index;(!e||o)&&(e=n)}return e?.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),o=n?.index!=null&&e?.index!=null&&n.index>e.index;(!e||o)&&(e=n)}return e?.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=this.state.selectedKeys(),o=n.anchorKey||t,r=new Ce(n,o,t);for(const i of this.getKeyRange(o,n.currentKey||t))r.delete(i);for(const i of this.getKeyRange(t,o))this.canSelectItem(i)&&r.add(i);this.state.setSelectedKeys(r)}getKeyRange(e,t){const n=this.collection().getItem(e),o=this.collection().getItem(t);return n&&o?n.index!=null&&o.index!=null&&n.index<=o.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const n=[];let o=e;for(;o!=null;){const r=this.collection().getItem(o);if(r&&r.type==="item"&&n.push(o),o===t)return n;o=this.collection().getKeyAfter(o)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=new Ce(this.state.selectedKeys());n.has(t)?n.delete(t):this.canSelectItem(t)&&(n.add(t),n.anchorKey=t,n.currentKey=t),!(this.disallowEmptySelection()&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const n=this.canSelectItem(t)?new Ce([t],t,t):new Ce;this.state.setSelectedKeys(n)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new Ce;for(const n of e){const o=this.getKey(n);if(o!=null&&(t.add(o),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new Ce)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;for(const n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(n=>{for(;n!=null;){if(this.canSelectItem(n)){const o=this.collection().getItem(n);if(!o)continue;o.type==="item"&&e.push(n)}n=this.collection().getKeyAfter(n)}})(this.collection().getFirstKey()),e}},$o=class{constructor(e){me(this,"keyMap",new Map);me(this,"iterable");me(this,"firstKey");me(this,"lastKey");this.iterable=e;for(const o of e)this.keyMap.set(o.key,o);if(this.keyMap.size===0)return;let t,n=0;for(const[o,r]of this.keyMap)t?(t.nextKey=o,r.prevKey=t.key):(this.firstKey=o,r.prevKey=void 0),r.type==="item"&&(r.index=n++),t=r,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){return this.keyMap.get(e)?.prevKey}getKeyAfter(e){return this.keyMap.get(e)?.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function Mr(e){const t=Il(e),o=wl({dataSource:()=>v(e.dataSource),getKey:()=>v(e.getKey),getTextValue:()=>v(e.getTextValue),getDisabled:()=>v(e.getDisabled),getSectionChildren:()=>v(e.getSectionChildren),factory:i=>e.filter?new $o(e.filter(i)):new $o(i)},[()=>e.filter]),r=new kl(o,t);return ns(()=>{const i=t.focusedKey();i!=null&&!o().getItem(i)&&t.setFocusedKey(void 0)}),{collection:o,selectionManager:()=>r}}function be(e){return t=>(e(t),()=>e(void 0))}var $r=["id","name","validationState","required","disabled","readOnly"];function Rr(e){const t=`form-control-${Ze()}`,n=W({id:t},e),[o,r]=P(),[i,l]=P(),[s,a]=P(),[c,u]=P(),d=(y,m,w)=>{const p=w!=null||o()!=null;return[w,o(),p&&m!=null?y:void 0].filter(Boolean).join(" ")||void 0},f=y=>[s(),c(),y].filter(Boolean).join(" ")||void 0,g=T(()=>({"data-valid":v(n.validationState)==="valid"?"":void 0,"data-invalid":v(n.validationState)==="invalid"?"":void 0,"data-required":v(n.required)?"":void 0,"data-disabled":v(n.disabled)?"":void 0,"data-readonly":v(n.readOnly)?"":void 0}));return{formControlContext:{name:()=>v(n.name)??v(n.id),dataset:g,validationState:()=>v(n.validationState),isRequired:()=>v(n.required),isDisabled:()=>v(n.disabled),isReadOnly:()=>v(n.readOnly),labelId:o,fieldId:i,descriptionId:s,errorMessageId:c,getAriaLabelledBy:d,getAriaDescribedBy:f,generateId:ct(()=>v(n.id)),registerLabel:be(r),registerField:be(l),registerDescription:be(a),registerErrorMessage:be(u)}}}var Xn=$e();function ze(){const e=Re(Xn);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function Zt(e){const t=ze(),n=W({id:t.generateId("description")},e);return K(()=>$(t.registerDescription(n.id))),b(X,F({as:"div"},()=>t.dataset(),n))}var Ml=U("<option>"),$l=U("<div aria-hidden=true><input type=text style=font-size:16px><select tabindex=-1><option>");function Rl(e){let t;const[n,o]=R(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),r=ze(),[i,l]=P(!1),s=a=>{const c=n.collection.getItem(a);return b(q,{get when(){return c?.type==="item"},get children(){var u=Ml();return u.value=a,L(u,()=>c?.textValue),ie(()=>u.selected=n.selectionManager.isSelected(a)),u}})};return K(Ye(()=>n.selectionManager.selectedKeys(),(a,c)=>{c&&Fr(a,c)||(l(!0),t?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),(()=>{var a=$l(),c=a.firstChild,u=c.nextSibling;u.firstChild,c.addEventListener("focus",()=>n.focusTrigger()),u.addEventListener("change",f=>{ae(f,n.onChange),i()||n.selectionManager.setSelectedKeys(new Set([f.target.value])),l(!1)});var d=se(f=>t=f,n.ref);return typeof d=="function"&&mr(d,u),Xt(u,F({get multiple(){return n.isMultiple},get name(){return r.name()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get size(){return n.collection.getSize()},get value(){return n.selectionManager.firstSelectedKey()??""}},o),!1,!0),L(u,b(q,{get when(){return n.isVirtualized},get fallback(){return b(Bt,{get each(){return[...n.collection.getKeys()]},children:s})},get children(){return b(Bt,{get each(){return[...n.selectionManager.selectedKeys()]},children:s})}}),null),ie(f=>{var g=Dr,h=n.selectionManager.isFocused()||n.isOpen?-1:0,y=r.isRequired(),m=r.isDisabled(),w=r.isReadOnly();return f.e=pr(a,g,f.e),h!==f.t&&Ke(c,"tabindex",f.t=h),y!==f.a&&(c.required=f.a=y),m!==f.o&&(c.disabled=f.o=m),w!==f.i&&(c.readOnly=f.i=w),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),a})()}var Ro=new WeakMap;function _l(e){let t=Ro.get(e);if(t!=null)return t;t=0;for(const n of e)n.type==="item"&&t++;return Ro.set(e,t),t}var _r=class{constructor(e,t,n){me(this,"collection");me(this,"ref");me(this,"collator");this.collection=e,this.ref=t,this.collator=n}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){return this.ref?.()?.querySelector(`[data-key="${e}"]`)??null}getKeyPageAbove(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);let r=e;for(;r&&n&&n.offsetTop>o;)r=this.getKeyAbove(r),n=r!=null?this.getItem(r):null;return r}getKeyPageBelow(e){const t=this.ref?.();let n=this.getItem(e);if(!t||!n)return;const o=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);let r=e;for(;r&&n&&n.offsetTop<o;)r=this.getKeyBelow(r),n=r!=null?this.getItem(r):null;return r}getKeyForSearch(e,t){const n=this.collator?.();if(!n)return;let o=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;o!=null;){const r=this.collection().getItem(o);if(r){const i=r.textValue.slice(0,e.length);if(r.textValue&&n.compare(i,e)===0)return o}o=this.getKeyBelow(o)}}};function Nl(e,t,n){const o=Lr({usage:"search",sensitivity:"base"}),r=T(()=>{const i=v(e.keyboardDelegate);return i||new _r(e.collection,t,o)});return Kl({selectionManager:()=>v(e.selectionManager),keyboardDelegate:r,autoFocus:()=>v(e.autoFocus),deferAutoFocus:()=>v(e.deferAutoFocus),shouldFocusWrap:()=>v(e.shouldFocusWrap),disallowEmptySelection:()=>v(e.disallowEmptySelection),selectOnFocus:()=>v(e.selectOnFocus),disallowTypeAhead:()=>v(e.disallowTypeAhead),shouldUseVirtualFocus:()=>v(e.shouldUseVirtualFocus),allowsTabNavigation:()=>v(e.allowsTabNavigation),isVirtualized:()=>v(e.isVirtualized),scrollToKey:i=>v(e.scrollToKey)?.(i),orientation:()=>v(e.orientation)},t,n)}var Vl={};Et(Vl,{Item:()=>Jt,ItemDescription:()=>Qt,ItemIndicator:()=>en,ItemLabel:()=>tn,Listbox:()=>Bl,Root:()=>Zn,Section:()=>nn,useListboxContext:()=>Vr});var Nr=$e();function Vr(){const e=Re(Nr);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var Br=$e();function Yn(){const e=Re(Br);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function Jt(e){let t;const n=Vr(),o=`${n.generateId("item")}-${Ze()}`,r=W({id:o},e),[i,l]=R(r,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[s,a]=P(),[c,u]=P(),d=()=>n.listState().selectionManager(),f=()=>d().focusedKey()===i.item.key,g=Fl({key:()=>i.item.key,selectionManager:d,shouldSelectOnPressUp:n.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>n.shouldSelectOnPressUp()&&n.shouldFocusOnHover(),shouldUseVirtualFocus:n.shouldUseVirtualFocus,disabled:()=>i.item.disabled},()=>t),h=()=>{if(d().selectionMode()!=="none")return g.isSelected()},y=T(()=>!(Ct()&&el())),m=()=>y()?i["aria-label"]:void 0,w=()=>y()?s():void 0,p=()=>y()?c():void 0,S=()=>{if(!n.isVirtualized())return;const O=n.listState().collection().getItem(i.item.key)?.index;return O!=null?O+1:void 0},C=()=>{if(n.isVirtualized())return _l(n.listState().collection())},E=O=>{ae(O,i.onPointerMove),O.pointerType==="mouse"&&!g.isDisabled()&&n.shouldFocusOnHover()&&(oe(O.currentTarget),d().setFocused(!0),d().setFocusedKey(i.item.key))},I=T(()=>({"data-disabled":g.isDisabled()?"":void 0,"data-selected":g.isSelected()?"":void 0,"data-highlighted":f()?"":void 0})),A={isSelected:g.isSelected,dataset:I,generateId:ct(()=>l.id),registerLabelId:be(a),registerDescriptionId:be(u)};return b(Br.Provider,{value:A,get children(){return b(X,F({as:"li",ref(O){var M=se(_=>t=_,i.ref);typeof M=="function"&&M(O)},role:"option",get tabIndex(){return g.tabIndex()},get"aria-disabled"(){return g.isDisabled()},get"aria-selected"(){return h()},get"aria-label"(){return m()},get"aria-labelledby"(){return w()},get"aria-describedby"(){return p()},get"aria-posinset"(){return S()},get"aria-setsize"(){return C()},get"data-key"(){return g.dataKey()},get onPointerDown(){return ce([i.onPointerDown,g.onPointerDown])},get onPointerUp(){return ce([i.onPointerUp,g.onPointerUp])},get onClick(){return ce([i.onClick,g.onClick])},get onKeyDown(){return ce([i.onKeyDown,g.onKeyDown])},get onMouseDown(){return ce([i.onMouseDown,g.onMouseDown])},get onFocus(){return ce([i.onFocus,g.onFocus])},onPointerMove:E},I,l))}})}function Qt(e){const t=Yn(),n=W({id:t.generateId("description")},e);return K(()=>$(t.registerDescriptionId(n.id))),b(X,F({as:"div"},()=>t.dataset(),n))}function en(e){const t=Yn(),n=W({id:t.generateId("indicator")},e),[o,r]=R(n,["forceMount"]);return b(q,{get when(){return o.forceMount||t.isSelected()},get children(){return b(X,F({as:"div","aria-hidden":"true"},()=>t.dataset(),r))}})}function tn(e){const t=Yn(),n=W({id:t.generateId("label")},e);return K(()=>$(t.registerLabelId(n.id))),b(X,F({as:"div"},()=>t.dataset(),n))}function Zn(e){let t;const n=`listbox-${Ze()}`,o=W({id:n,selectionMode:"single",virtualized:!1},e),[r,i]=R(o,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),l=T(()=>r.state?r.state:Mr({selectedKeys:()=>r.value,defaultSelectedKeys:()=>r.defaultValue,onSelectionChange:r.onChange,allowDuplicateSelectionEvents:()=>v(r.allowDuplicateSelectionEvents),disallowEmptySelection:()=>v(r.disallowEmptySelection),selectionBehavior:()=>v(r.selectionBehavior),selectionMode:()=>v(r.selectionMode),dataSource:()=>r.options??[],getKey:()=>r.optionValue,getTextValue:()=>r.optionTextValue,getDisabled:()=>r.optionDisabled,getSectionChildren:()=>r.optionGroupChildren})),s=Nl({selectionManager:()=>l().selectionManager(),collection:()=>l().collection(),autoFocus:()=>v(r.autoFocus),shouldFocusWrap:()=>v(r.shouldFocusWrap),keyboardDelegate:()=>r.keyboardDelegate,disallowEmptySelection:()=>v(r.disallowEmptySelection),selectOnFocus:()=>v(r.selectOnFocus),disallowTypeAhead:()=>v(r.disallowTypeAhead),shouldUseVirtualFocus:()=>v(r.shouldUseVirtualFocus),allowsTabNavigation:()=>v(r.allowsTabNavigation),isVirtualized:()=>r.virtualized,scrollToKey:()=>r.scrollToItem},()=>t,()=>r.scrollRef?.()),a={listState:l,generateId:ct(()=>i.id),shouldUseVirtualFocus:()=>o.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>o.shouldSelectOnPressUp,shouldFocusOnHover:()=>o.shouldFocusOnHover,isVirtualized:()=>r.virtualized};return b(Nr.Provider,{value:a,get children(){return b(X,F({as:"ul",ref(c){var u=se(d=>t=d,r.ref);typeof u=="function"&&u(c)},role:"listbox",get tabIndex(){return s.tabIndex()},get"aria-multiselectable"(){return l().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return ce([r.onKeyDown,s.onKeyDown])},get onMouseDown(){return ce([r.onMouseDown,s.onMouseDown])},get onFocusIn(){return ce([r.onFocusIn,s.onFocusIn])},get onFocusOut(){return ce([r.onFocusOut,s.onFocusOut])}},i,{get children(){return b(q,{get when(){return!r.virtualized},get fallback(){return r.children?.(l().collection)},get children(){return b(js,{get each(){return[...l().collection()]},by:"key",children:c=>b(gs,{get children(){return[b(vo,{get when(){return c().type==="section"},get children(){return r.renderSection?.(c())}}),b(vo,{get when(){return c().type==="item"},get children(){return r.renderItem?.(c())}})]}})})}})}}))}})}function nn(e){return b(X,F({as:"li",role:"presentation"},e))}var Bl=Object.assign(Zn,{Item:Jt,ItemDescription:Qt,ItemIndicator:en,ItemLabel:tn,Section:nn});const Wl=["top","right","bottom","left"],Ve=Math.min,fe=Math.max,Wt=Math.round,kt=Math.floor,Ee=e=>({x:e,y:e}),zl={left:"right",right:"left",bottom:"top",top:"bottom"},Hl={start:"end",end:"start"};function Kn(e,t,n){return fe(e,Ve(t,n))}function Qe(e,t){return typeof e=="function"?e(t):e}function Be(e){return e.split("-")[0]}function ut(e){return e.split("-")[1]}function Wr(e){return e==="x"?"y":"x"}function Jn(e){return e==="y"?"height":"width"}const Ul=new Set(["top","bottom"]);function Le(e){return Ul.has(Be(e))?"y":"x"}function Qn(e){return Wr(Le(e))}function jl(e,t,n){n===void 0&&(n=!1);const o=ut(e),r=Qn(e),i=Jn(r);let l=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=zt(l)),[l,zt(l)]}function Gl(e){const t=zt(e);return[Fn(e),t,Fn(t)]}function Fn(e){return e.replace(/start|end/g,t=>Hl[t])}const _o=["left","right"],No=["right","left"],ql=["top","bottom"],Xl=["bottom","top"];function Yl(e,t,n){switch(e){case"top":case"bottom":return n?t?No:_o:t?_o:No;case"left":case"right":return t?ql:Xl;default:return[]}}function Zl(e,t,n,o){const r=ut(e);let i=Yl(Be(e),n==="start",o);return r&&(i=i.map(l=>l+"-"+r),t&&(i=i.concat(i.map(Fn)))),i}function zt(e){return e.replace(/left|right|bottom|top/g,t=>zl[t])}function Jl(e){return{top:0,right:0,bottom:0,left:0,...e}}function zr(e){return typeof e!="number"?Jl(e):{top:e,right:e,bottom:e,left:e}}function Ht(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Vo(e,t,n){let{reference:o,floating:r}=e;const i=Le(t),l=Qn(t),s=Jn(l),a=Be(t),c=i==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,f=o[s]/2-r[s]/2;let g;switch(a){case"top":g={x:u,y:o.y-r.height};break;case"bottom":g={x:u,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:d};break;case"left":g={x:o.x-r.width,y:d};break;default:g={x:o.x,y:o.y}}switch(ut(t)){case"start":g[l]-=f*(n&&c?-1:1);break;case"end":g[l]+=f*(n&&c?-1:1);break}return g}async function Ql(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:l,elements:s,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:g=0}=Qe(t,e),h=zr(g),m=s[f?d==="floating"?"reference":"floating":d],w=Ht(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:a})),p=d==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Ht(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:p,offsetParent:S,strategy:a}):p);return{top:(w.top-E.top+h.top)/C.y,bottom:(E.bottom-w.bottom+h.bottom)/C.y,left:(w.left-E.left+h.left)/C.x,right:(E.right-w.right+h.right)/C.x}}const ea=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,s=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=Vo(c,o,a),f=o,g={},h=0;for(let m=0;m<s.length;m++){var y;const{name:w,fn:p}=s[m],{x:S,y:C,data:E,reset:I}=await p({x:u,y:d,initialPlacement:o,placement:f,strategy:r,middlewareData:g,rects:c,platform:{...l,detectOverflow:(y=l.detectOverflow)!=null?y:Ql},elements:{reference:e,floating:t}});u=S??u,d=C??d,g={...g,[w]:{...g[w],...E}},I&&h<=50&&(h++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(c=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):I.rects),{x:u,y:d}=Vo(c,f,a)),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:g}},ta=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:l,elements:s,middlewareData:a}=t,{element:c,padding:u=0}=Qe(e,t)||{};if(c==null)return{};const d=zr(u),f={x:n,y:o},g=Qn(r),h=Jn(g),y=await l.getDimensions(c),m=g==="y",w=m?"top":"left",p=m?"bottom":"right",S=m?"clientHeight":"clientWidth",C=i.reference[h]+i.reference[g]-f[g]-i.floating[h],E=f[g]-i.reference[g],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c));let A=I?I[S]:0;(!A||!await(l.isElement==null?void 0:l.isElement(I)))&&(A=s.floating[S]||i.floating[h]);const O=C/2-E/2,M=A/2-y[h]/2-1,_=Ve(d[w],M),J=Ve(d[p],M),V=_,he=A-y[h]-J,Y=A/2-y[h]/2+O,le=Kn(V,Y,he),Z=!a.arrow&&ut(r)!=null&&Y!==le&&i.reference[h]/2-(Y<V?_:J)-y[h]/2<0,ee=Z?Y<V?Y-V:Y-he:0;return{[g]:f[g]+ee,data:{[g]:le,centerOffset:Y-le-ee,...Z&&{alignmentOffset:ee}},reset:Z}}}),na=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:s,platform:a,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:y=!0,...m}=Qe(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Be(r),p=Le(s),S=Be(s)===s,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),E=f||(S||!y?[zt(s)]:Gl(s)),I=h!=="none";!f&&I&&E.push(...Zl(s,y,h,C));const A=[s,...E],O=await a.detectOverflow(t,m),M=[];let _=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&M.push(O[w]),d){const Y=jl(r,l,C);M.push(O[Y[0]],O[Y[1]])}if(_=[..._,{placement:r,overflows:M}],!M.every(Y=>Y<=0)){var J,V;const Y=(((J=i.flip)==null?void 0:J.index)||0)+1,le=A[Y];if(le&&(!(d==="alignment"?p!==Le(le):!1)||_.every(te=>Le(te.placement)===p?te.overflows[0]>0:!0)))return{data:{index:Y,overflows:_},reset:{placement:le}};let Z=(V=_.filter(ee=>ee.overflows[0]<=0).sort((ee,te)=>ee.overflows[1]-te.overflows[1])[0])==null?void 0:V.placement;if(!Z)switch(g){case"bestFit":{var he;const ee=(he=_.filter(te=>{if(I){const pe=Le(te.placement);return pe===p||pe==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(pe=>pe>0).reduce((pe,ve)=>pe+ve,0)]).sort((te,pe)=>te[1]-pe[1])[0])==null?void 0:he[0];ee&&(Z=ee);break}case"initialPlacement":Z=s;break}if(r!==Z)return{reset:{placement:Z}}}return{}}}};function Bo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wo(e){return Wl.some(t=>e[t]>=0)}const oa=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:o}=t,{strategy:r="referenceHidden",...i}=Qe(e,t);switch(r){case"referenceHidden":{const l=await o.detectOverflow(t,{...i,elementContext:"reference"}),s=Bo(l,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Wo(s)}}}case"escaped":{const l=await o.detectOverflow(t,{...i,altBoundary:!0}),s=Bo(l,n.floating);return{data:{escapedOffsets:s,escaped:Wo(s)}}}default:return{}}}}},ra=new Set(["left","top"]);async function ia(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=Be(n),s=ut(n),a=Le(n)==="y",c=ra.has(l)?-1:1,u=i&&a?-1:1,d=Qe(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof h=="number"&&(g=s==="end"?h*-1:h),a?{x:g*u,y:f*c}:{x:f*c,y:g*u}}const sa=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:l,middlewareData:s}=t,a=await ia(t,e);return l===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:l}}}}},la=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r,platform:i}=t,{mainAxis:l=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:p,y:S}=w;return{x:p,y:S}}},...c}=Qe(e,t),u={x:n,y:o},d=await i.detectOverflow(t,c),f=Le(Be(r)),g=Wr(f);let h=u[g],y=u[f];if(l){const w=g==="y"?"top":"left",p=g==="y"?"bottom":"right",S=h+d[w],C=h-d[p];h=Kn(S,h,C)}if(s){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",S=y+d[w],C=y-d[p];y=Kn(S,y,C)}const m=a.fn({...t,[g]:h,[f]:y});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[g]:l,[f]:s}}}}}},aa=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:l,elements:s}=t,{apply:a=()=>{},...c}=Qe(e,t),u=await l.detectOverflow(t,c),d=Be(r),f=ut(r),g=Le(r)==="y",{width:h,height:y}=i.floating;let m,w;d==="top"||d==="bottom"?(m=d,w=f===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(w=d,m=f==="end"?"top":"bottom");const p=y-u.top-u.bottom,S=h-u.left-u.right,C=Ve(y-u[m],p),E=Ve(h-u[w],S),I=!t.middlewareData.shift;let A=C,O=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=S),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(A=p),I&&!f){const _=fe(u.left,0),J=fe(u.right,0),V=fe(u.top,0),he=fe(u.bottom,0);g?O=h-2*(_!==0||J!==0?_+J:fe(u.left,u.right)):A=y-2*(V!==0||he!==0?V+he:fe(u.top,u.bottom))}await a({...t,availableWidth:O,availableHeight:A});const M=await l.getDimensions(s.floating);return h!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function on(){return typeof window<"u"}function dt(e){return Hr(e)?(e.nodeName||"").toLowerCase():"#document"}function ge(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ae(e){var t;return(t=(Hr(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hr(e){return on()?e instanceof Node||e instanceof ge(e).Node:!1}function Se(e){return on()?e instanceof Element||e instanceof ge(e).Element:!1}function De(e){return on()?e instanceof HTMLElement||e instanceof ge(e).HTMLElement:!1}function zo(e){return!on()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ge(e).ShadowRoot}const ca=new Set(["inline","contents"]);function Dt(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=xe(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!ca.has(r)}const ua=new Set(["table","td","th"]);function da(e){return ua.has(dt(e))}const fa=[":popover-open",":modal"];function rn(e){return fa.some(t=>{try{return e.matches(t)}catch{return!1}})}const ga=["transform","translate","scale","rotate","perspective"],ha=["transform","translate","scale","rotate","perspective","filter"],pa=["paint","layout","strict","content"];function eo(e){const t=to(),n=Se(e)?xe(e):e;return ga.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||ha.some(o=>(n.willChange||"").includes(o))||pa.some(o=>(n.contain||"").includes(o))}function ma(e){let t=We(e);for(;De(t)&&!st(t);){if(eo(t))return t;if(rn(t))return null;t=We(t)}return null}function to(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ya=new Set(["html","body","#document"]);function st(e){return ya.has(dt(e))}function xe(e){return ge(e).getComputedStyle(e)}function sn(e){return Se(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function We(e){if(dt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zo(e)&&e.host||Ae(e);return zo(t)?t.host:t}function Ur(e){const t=We(e);return st(t)?e.ownerDocument?e.ownerDocument.body:e.body:De(t)&&Dt(t)?t:Ur(t)}function St(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Ur(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),l=ge(r);if(i){const s=kn(l);return t.concat(l,l.visualViewport||[],Dt(r)?r:[],s&&n?St(s):[])}return t.concat(r,St(r,[],n))}function kn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jr(e){const t=xe(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=De(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:o,s=Wt(n)!==i||Wt(o)!==l;return s&&(n=i,o=l),{width:n,height:o,$:s}}function no(e){return Se(e)?e:e.contextElement}function it(e){const t=no(e);if(!De(t))return Ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=jr(t);let l=(i?Wt(n.width):n.width)/o,s=(i?Wt(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const ba=Ee(0);function Gr(e){const t=ge(e);return!to()||!t.visualViewport?ba:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function va(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ge(e)?!1:t}function Xe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=no(e);let l=Ee(1);t&&(o?Se(o)&&(l=it(o)):l=it(e));const s=va(i,n,o)?Gr(i):Ee(0);let a=(r.left+s.x)/l.x,c=(r.top+s.y)/l.y,u=r.width/l.x,d=r.height/l.y;if(i){const f=ge(i),g=o&&Se(o)?ge(o):o;let h=f,y=kn(h);for(;y&&o&&g!==h;){const m=it(y),w=y.getBoundingClientRect(),p=xe(y),S=w.left+(y.clientLeft+parseFloat(p.paddingLeft))*m.x,C=w.top+(y.clientTop+parseFloat(p.paddingTop))*m.y;a*=m.x,c*=m.y,u*=m.x,d*=m.y,a+=S,c+=C,h=ge(y),y=kn(h)}}return Ht({width:u,height:d,x:a,y:c})}function ln(e,t){const n=sn(e).scrollLeft;return t?t.left+n:Xe(Ae(e)).left+n}function qr(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-ln(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function wa(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",l=Ae(o),s=t?rn(t.floating):!1;if(o===l||s&&i)return n;let a={scrollLeft:0,scrollTop:0},c=Ee(1);const u=Ee(0),d=De(o);if((d||!d&&!i)&&((dt(o)!=="body"||Dt(l))&&(a=sn(o)),De(o))){const g=Xe(o);c=it(o),u.x=g.x+o.clientLeft,u.y=g.y+o.clientTop}const f=l&&!d&&!i?qr(l,a):Ee(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-a.scrollTop*c.y+u.y+f.y}}function Sa(e){return Array.from(e.getClientRects())}function xa(e){const t=Ae(e),n=sn(e),o=e.ownerDocument.body,r=fe(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=fe(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ln(e);const s=-n.scrollTop;return xe(o).direction==="rtl"&&(l+=fe(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:s}}const Ho=25;function Ca(e,t){const n=ge(e),o=Ae(e),r=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,s=0,a=0;if(r){i=r.width,l=r.height;const u=to();(!u||u&&t==="fixed")&&(s=r.offsetLeft,a=r.offsetTop)}const c=ln(o);if(c<=0){const u=o.ownerDocument,d=u.body,f=getComputedStyle(d),g=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,h=Math.abs(o.clientWidth-d.clientWidth-g);h<=Ho&&(i-=h)}else c<=Ho&&(i+=c);return{width:i,height:l,x:s,y:a}}const Ea=new Set(["absolute","fixed"]);function Oa(e,t){const n=Xe(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=De(e)?it(e):Ee(1),l=e.clientWidth*i.x,s=e.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:l,height:s,x:a,y:c}}function Uo(e,t,n){let o;if(t==="viewport")o=Ca(e,n);else if(t==="document")o=xa(Ae(e));else if(Se(t))o=Oa(t,n);else{const r=Gr(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ht(o)}function Xr(e,t){const n=We(e);return n===t||!Se(n)||st(n)?!1:xe(n).position==="fixed"||Xr(n,t)}function Da(e,t){const n=t.get(e);if(n)return n;let o=St(e,[],!1).filter(s=>Se(s)&&dt(s)!=="body"),r=null;const i=xe(e).position==="fixed";let l=i?We(e):e;for(;Se(l)&&!st(l);){const s=xe(l),a=eo(l);!a&&s.position==="fixed"&&(r=null),(i?!a&&!r:!a&&s.position==="static"&&!!r&&Ea.has(r.position)||Dt(l)&&!a&&Xr(e,l))?o=o.filter(u=>u!==l):r=s,l=We(l)}return t.set(e,o),o}function Aa(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const l=[...n==="clippingAncestors"?rn(t)?[]:Da(t,this._c):[].concat(n),o],s=l[0],a=l.reduce((c,u)=>{const d=Uo(t,u,r);return c.top=fe(d.top,c.top),c.right=Ve(d.right,c.right),c.bottom=Ve(d.bottom,c.bottom),c.left=fe(d.left,c.left),c},Uo(t,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Pa(e){const{width:t,height:n}=jr(e);return{width:t,height:n}}function Ia(e,t,n){const o=De(t),r=Ae(t),i=n==="fixed",l=Xe(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const a=Ee(0);function c(){a.x=ln(r)}if(o||!o&&!i)if((dt(t)!=="body"||Dt(r))&&(s=sn(t)),o){const g=Xe(t,!0,i,t);a.x=g.x+t.clientLeft,a.y=g.y+t.clientTop}else r&&c();i&&!o&&r&&c();const u=r&&!o&&!i?qr(r,s):Ee(0),d=l.left+s.scrollLeft-a.x-u.x,f=l.top+s.scrollTop-a.y-u.y;return{x:d,y:f,width:l.width,height:l.height}}function xn(e){return xe(e).position==="static"}function jo(e,t){if(!De(e)||xe(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ae(e)===n&&(n=n.ownerDocument.body),n}function Yr(e,t){const n=ge(e);if(rn(e))return n;if(!De(e)){let r=We(e);for(;r&&!st(r);){if(Se(r)&&!xn(r))return r;r=We(r)}return n}let o=jo(e,t);for(;o&&da(o)&&xn(o);)o=jo(o,t);return o&&st(o)&&xn(o)&&!eo(o)?n:o||ma(e)||n}const La=async function(e){const t=this.getOffsetParent||Yr,n=this.getDimensions,o=await n(e.floating);return{reference:Ia(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ta(e){return xe(e).direction==="rtl"}const Zr={convertOffsetParentRelativeRectToViewportRelativeRect:wa,getDocumentElement:Ae,getClippingRect:Aa,getOffsetParent:Yr,getElementRects:La,getClientRects:Sa,getDimensions:Pa,getScale:it,isElement:Se,isRTL:Ta};function Jr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ka(e,t){let n=null,o;const r=Ae(e);function i(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:g}=c;if(s||t(),!f||!g)return;const h=kt(d),y=kt(r.clientWidth-(u+f)),m=kt(r.clientHeight-(d+g)),w=kt(u),S={rootMargin:-h+"px "+-y+"px "+-m+"px "+-w+"px",threshold:fe(0,Ve(1,a))||1};let C=!0;function E(I){const A=I[0].intersectionRatio;if(A!==a){if(!C)return l();A?l(!1,A):o=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!Jr(c,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(E,{...S,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return l(!0),i}function Fa(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=no(e),u=r||i?[...c?St(c):[],...St(t)]:[];u.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const d=c&&s?Ka(c,n):null;let f=-1,g=null;l&&(g=new ResizeObserver(w=>{let[p]=w;p&&p.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),c&&!a&&g.observe(c),g.observe(t));let h,y=a?Xe(e):null;a&&m();function m(){const w=Xe(e);y&&!Jr(y,w)&&n(),y=w,h=requestAnimationFrame(m)}return n(),()=>{var w;u.forEach(p=>{r&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),d?.(),(w=g)==null||w.disconnect(),g=null,a&&cancelAnimationFrame(h)}}const ka=sa,Ma=la,$a=na,Ra=aa,_a=oa,Na=ta,Va=(e,t,n)=>{const o=new Map,r={platform:Zr,...n},i={...r.platform,_c:o};return ea(e,t,{...r,platform:i})};var Ba=U('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),oo=$e();function ro(){const e=Re(oo);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Mn=30,Go=Mn/2,Wa={top:180,right:-90,bottom:0,left:90};function io(e){const t=ro(),n=W({size:Mn},e),[o,r]=R(n,["ref","style","size"]),i=()=>t.currentPlacement().split("-")[0],l=za(t.contentRef),s=()=>l()?.getPropertyValue("background-color")||"none",a=()=>l()?.getPropertyValue(`border-${i()}-color`)||"none",c=()=>l()?.getPropertyValue(`border-${i()}-width`)||"0px",u=()=>Number.parseInt(c())*2*(Mn/o.size),d=()=>`rotate(${Wa[i()]} ${Go} ${Go}) translate(0 2)`;return b(X,F({as:"div",ref(f){var g=se(t.setArrowRef,o.ref);typeof g=="function"&&g(f)},"aria-hidden":"true",get style(){return Yt({position:"absolute","font-size":`${o.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:s(),stroke:a(),"stroke-width":u()},o.style)}},r,{get children(){var f=Ba(),g=f.firstChild,h=g.firstChild;return h.nextSibling,ie(()=>Ke(g,"transform",d())),f}}))}function za(e){const[t,n]=P();return K(()=>{const o=e();o&&n(Xs(o).getComputedStyle(o))}),t}function Ha(e){const t=ro(),[n,o]=R(e,["ref","style"]);return b(X,F({as:"div",ref(r){var i=se(t.setPositionerRef,n.ref);typeof i=="function"&&i(r)},"data-popper-positioner":"",get style(){return Yt({position:"absolute",top:0,left:0,"min-width":"max-content"},n.style)}},o))}function qo(e){const{x:t=0,y:n=0,width:o=0,height:r=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,n,o,r);const i={x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:n+r,left:t};return{...i,toJSON:()=>i}}function Ua(e,t){return{contextElement:e,getBoundingClientRect:()=>{const o=t(e);return o?qo(o):e?e.getBoundingClientRect():qo()}}}function ja(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var Ga={top:"bottom",right:"left",bottom:"top",left:"right"};function qa(e,t){const[n,o]=e.split("-"),r=Ga[n];return o?n==="left"||n==="right"?`${r} ${o==="start"?"top":"bottom"}`:o==="start"?`${r} ${t==="rtl"?"right":"left"}`:`${r} ${t==="rtl"?"left":"right"}`:`${r} center`}function Xa(e){const t=W({getAnchorRect:f=>f?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[n,o]=P(),[r,i]=P(),[l,s]=P(t.placement),a=()=>Ua(t.anchorRef?.(),t.getAnchorRect),{direction:c}=Gn();async function u(){const f=a(),g=n(),h=r();if(!f||!g)return;const y=(h?.clientHeight||0)/2,m=typeof t.gutter=="number"?t.gutter+y:t.gutter??y;g.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),f.getBoundingClientRect();const w=[ka(({placement:I})=>{const A=!!I.split("-")[1];return{mainAxis:m,crossAxis:A?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const I=typeof t.flip=="string"?t.flip.split(" "):void 0;if(I!==void 0&&!I.every(ja))throw new Error("`flip` expects a spaced-delimited list of placements");w.push($a({padding:t.overflowPadding,fallbackPlacements:I}))}(t.slide||t.overlap)&&w.push(Ma({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),w.push(Ra({padding:t.overflowPadding,apply({availableWidth:I,availableHeight:A,rects:O}){const M=Math.round(O.reference.width);I=Math.floor(I),A=Math.floor(A),g.style.setProperty("--kb-popper-anchor-width",`${M}px`),g.style.setProperty("--kb-popper-content-available-width",`${I}px`),g.style.setProperty("--kb-popper-content-available-height",`${A}px`),t.sameWidth&&(g.style.width=`${M}px`),t.fitViewport&&(g.style.maxWidth=`${I}px`,g.style.maxHeight=`${A}px`)}})),t.hideWhenDetached&&w.push(_a({padding:t.detachedPadding})),h&&w.push(Na({element:h,padding:t.arrowPadding}));const p=await Va(f,g,{placement:t.placement,strategy:"absolute",middleware:w,platform:{...Zr,isRTL:()=>c()==="rtl"}});if(s(p.placement),t.onCurrentPlacementChange?.(p.placement),!g)return;g.style.setProperty("--kb-popper-content-transform-origin",qa(p.placement,c()));const S=Math.round(p.x),C=Math.round(p.y);let E;if(t.hideWhenDetached&&(E=p.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(g.style,{top:"0",left:"0",transform:`translate3d(${S}px, ${C}px, 0)`,visibility:E}),h&&p.middlewareData.arrow){const{x:I,y:A}=p.middlewareData.arrow,O=p.placement.split("-")[0];Object.assign(h.style,{left:I!=null?`${I}px`:"",top:A!=null?`${A}px`:"",[O]:"100%"})}}K(()=>{const f=a(),g=n();if(!f||!g)return;const h=Fa(f,g,u,{elementResize:typeof ResizeObserver=="function"});$(h)}),K(()=>{const f=n(),g=t.contentRef?.();!f||!g||queueMicrotask(()=>{f.style.zIndex=getComputedStyle(g).zIndex})});const d={currentPlacement:l,contentRef:()=>t.contentRef?.(),setPositionerRef:o,setArrowRef:i};return b(oo.Provider,{value:d,get children(){return t.children}})}var Qr=Object.assign(Xa,{Arrow:io,Context:oo,usePopperContext:ro,Positioner:Ha}),Ut="data-kb-top-layer",ei,$n=!1,ke=[];function xt(e){return ke.findIndex(t=>t.node===e)}function Ya(e){return ke[xt(e)]}function Za(e){return ke[ke.length-1].node===e}function ti(){return ke.filter(e=>e.isPointerBlocking)}function Ja(){return[...ti()].slice(-1)[0]}function so(){return ti().length>0}function ni(e){const t=xt(Ja()?.node);return xt(e)<t}function Qa(e){ke.push(e)}function ec(e){const t=xt(e);t<0||ke.splice(t,1)}function tc(){for(const{node:e}of ke)e.style.pointerEvents=ni(e)?"none":"auto"}function nc(e){if(so()&&!$n){const t=Fe(e);ei=document.body.style.pointerEvents,t.body.style.pointerEvents="none",$n=!0}}function oc(e){if(so())return;const t=Fe(e);t.body.style.pointerEvents=ei,t.body.style.length===0&&t.body.removeAttribute("style"),$n=!1}var de={layers:ke,isTopMostLayer:Za,hasPointerBlockingLayer:so,isBelowPointerBlockingLayer:ni,addLayer:Qa,removeLayer:ec,indexOf:xt,find:Ya,assignPointerEventToLayers:tc,disableBodyPointerEvents:nc,restoreBodyPointerEvents:oc},Cn="focusScope.autoFocusOnMount",En="focusScope.autoFocusOnUnmount",Xo={bubbles:!1,cancelable:!0},Yo={stack:[],active(){return this.stack[0]},add(e){e!==this.active()&&this.active()?.pause(),this.stack=Ao(this.stack,e),this.stack.unshift(e)},remove(e){this.stack=Ao(this.stack,e),this.active()?.resume()}};function oi(e,t){const[n,o]=P(!1),r={pause(){o(!0)},resume(){o(!1)}};let i=null;const l=h=>e.onMountAutoFocus?.(h),s=h=>e.onUnmountAutoFocus?.(h),a=()=>Fe(t()),c=()=>{const h=a().createElement("span");return h.setAttribute("data-focus-trap",""),h.tabIndex=0,Object.assign(h.style,Dr),h},u=()=>{const h=t();return h?Er(h,!0).filter(y=>!y.hasAttribute("data-focus-trap")):[]},d=()=>{const h=u();return h.length>0?h[0]:null},f=()=>{const h=u();return h.length>0?h[h.length-1]:null},g=()=>{const h=t();if(!h)return!1;const y=mt(h);return!y||Ie(h,y)?!1:Or(y)};K(()=>{const h=t();if(!h)return;Yo.add(r);const y=mt(h);if(!Ie(h,y)){const w=new CustomEvent(Cn,Xo);h.addEventListener(Cn,l),h.dispatchEvent(w),w.defaultPrevented||setTimeout(()=>{oe(d()),mt(h)===y&&oe(h)},0)}$(()=>{h.removeEventListener(Cn,l),setTimeout(()=>{const w=new CustomEvent(En,Xo);g()&&w.preventDefault(),h.addEventListener(En,s),h.dispatchEvent(w),w.defaultPrevented||oe(y??a().body),h.removeEventListener(En,s),Yo.remove(r)},0)})}),K(()=>{const h=t();if(!h||!v(e.trapFocus)||n())return;const y=w=>{const p=w.target;p?.closest(`[${Ut}]`)||(Ie(h,p)?i=p:oe(i))},m=w=>{const S=w.relatedTarget??mt(h);S?.closest(`[${Ut}]`)||Ie(h,S)||oe(i)};a().addEventListener("focusin",y),a().addEventListener("focusout",m),$(()=>{a().removeEventListener("focusin",y),a().removeEventListener("focusout",m)})}),K(()=>{const h=t();if(!h||!v(e.trapFocus)||n())return;const y=c();h.insertAdjacentElement("afterbegin",y);const m=c();h.insertAdjacentElement("beforeend",m);function w(S){const C=d(),E=f();S.relatedTarget===C?oe(E):oe(C)}y.addEventListener("focusin",w),m.addEventListener("focusin",w);const p=new MutationObserver(S=>{for(const C of S)C.previousSibling===m&&(m.remove(),h.insertAdjacentElement("beforeend",m)),C.nextSibling===y&&(y.remove(),h.insertAdjacentElement("afterbegin",y))});p.observe(h,{childList:!0,subtree:!1}),$(()=>{y.removeEventListener("focusin",w),m.removeEventListener("focusin",w),y.remove(),m.remove(),p.disconnect()})})}var rc="data-live-announcer";function ri(e){K(()=>{v(e.isDisabled)||$(ic(v(e.targets),v(e.root)))})}var pt=new WeakMap,ye=[];function ic(e,t=document.body){const n=new Set(e),o=new Set,r=a=>{for(const f of a.querySelectorAll(`[${rc}], [${Ut}]`))n.add(f);const c=f=>{if(n.has(f)||f.parentElement&&o.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const g of n)if(f.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),d=c(a);if(d===NodeFilter.FILTER_ACCEPT&&i(a),d!==NodeFilter.FILTER_REJECT){let f=u.nextNode();for(;f!=null;)i(f),f=u.nextNode()}},i=a=>{const c=pt.get(a)??0;a.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&a.setAttribute("aria-hidden","true"),o.add(a),pt.set(a,c+1))};ye.length&&ye[ye.length-1].disconnect(),r(t);const l=new MutationObserver(a=>{for(const c of a)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...o].some(u=>u.contains(c.target))){for(const u of c.removedNodes)u instanceof Element&&(n.delete(u),o.delete(u));for(const u of c.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?n.add(u):u instanceof Element&&r(u)}});l.observe(t,{childList:!0,subtree:!0});const s={observe(){l.observe(t,{childList:!0,subtree:!0})},disconnect(){l.disconnect()}};return ye.push(s),()=>{l.disconnect();for(const a of o){const c=pt.get(a);if(c==null)return;c===1?(a.removeAttribute("aria-hidden"),pt.delete(a)):pt.set(a,c-1)}s===ye[ye.length-1]?(ye.pop(),ye.length&&ye[ye.length-1].observe()):ye.splice(ye.indexOf(s),1)}}var Zo="interactOutside.pointerDownOutside",Jo="interactOutside.focusOutside";function sc(e,t){let n,o=fl;const r=()=>Fe(t()),i=d=>e.onPointerDownOutside?.(d),l=d=>e.onFocusOutside?.(d),s=d=>e.onInteractOutside?.(d),a=d=>{const f=d.target;return!(f instanceof Element)||f.closest(`[${Ut}]`)||!Ie(r(),f)||Ie(t(),f)?!1:!e.shouldExcludeElement?.(f)},c=d=>{function f(){const g=t(),h=d.target;if(!g||!h||!a(d))return;const y=ce([i,s]);h.addEventListener(Zo,y,{once:!0});const m=new CustomEvent(Zo,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:d.button===2||nl(d)&&d.button===0}});h.dispatchEvent(m)}d.pointerType==="touch"?(r().removeEventListener("click",f),o=f,r().addEventListener("click",f,{once:!0})):f()},u=d=>{const f=t(),g=d.target;if(!f||!g||!a(d))return;const h=ce([l,s]);g.addEventListener(Jo,h,{once:!0});const y=new CustomEvent(Jo,{bubbles:!1,cancelable:!0,detail:{originalEvent:d,isContextMenu:!1}});g.dispatchEvent(y)};K(()=>{v(e.isDisabled)||(n=window.setTimeout(()=>{r().addEventListener("pointerdown",c,!0)},0),r().addEventListener("focusin",u,!0),$(()=>{window.clearTimeout(n),r().removeEventListener("click",o),r().removeEventListener("pointerdown",c,!0),r().removeEventListener("focusin",u,!0)}))})}function lc(e){const t=n=>{n.key===Sr.Escape&&e.onEscapeKeyDown?.(n)};K(()=>{if(v(e.isDisabled))return;const n=e.ownerDocument?.()??Fe();n.addEventListener("keydown",t),$(()=>{n.removeEventListener("keydown",t)})})}var ii=$e();function ac(){return Re(ii)}function si(e){let t;const n=ac(),[o,r]=R(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),i=new Set([]),l=d=>{i.add(d);const f=n?.registerNestedLayer(d);return()=>{i.delete(d),f?.()}};sc({shouldExcludeElement:d=>t?o.excludedElements?.some(f=>Ie(f(),d))||[...i].some(f=>Ie(f,d)):!1,onPointerDownOutside:d=>{!t||de.isBelowPointerBlockingLayer(t)||!o.bypassTopMostLayerCheck&&!de.isTopMostLayer(t)||(o.onPointerDownOutside?.(d),o.onInteractOutside?.(d),d.defaultPrevented||o.onDismiss?.())},onFocusOutside:d=>{o.onFocusOutside?.(d),o.onInteractOutside?.(d),d.defaultPrevented||o.onDismiss?.()}},()=>t),lc({ownerDocument:()=>Fe(t),onEscapeKeyDown:d=>{!t||!de.isTopMostLayer(t)||(o.onEscapeKeyDown?.(d),!d.defaultPrevented&&o.onDismiss&&(d.preventDefault(),o.onDismiss()))}}),Gt(()=>{if(!t)return;de.addLayer({node:t,isPointerBlocking:o.disableOutsidePointerEvents,dismiss:o.onDismiss});const d=n?.registerNestedLayer(t);de.assignPointerEventToLayers(),de.disableBodyPointerEvents(t),$(()=>{t&&(de.removeLayer(t),d?.(),de.assignPointerEventToLayers(),de.restoreBodyPointerEvents(t))})}),K(Ye([()=>t,()=>o.disableOutsidePointerEvents],([d,f])=>{if(!d)return;const g=de.find(d);g&&g.isPointerBlocking!==f&&(g.isPointerBlocking=f,de.assignPointerEventToLayers()),f&&de.disableBodyPointerEvents(d),$(()=>{de.restoreBodyPointerEvents(d)})},{defer:!0}));const u={registerNestedLayer:l};return b(ii.Provider,{value:u,get children(){return b(X,F({as:"div",ref(d){var f=se(g=>t=g,o.ref);typeof f=="function"&&f(d)}},r))}})}function li(e={}){const[t,n]=Al({value:()=>v(e.open),defaultValue:()=>!!v(e.defaultOpen),onChange:l=>e.onOpenChange?.(l)}),o=()=>{n(!0)},r=()=>{n(!1)};return{isOpen:t,setIsOpen:n,open:o,close:r,toggle:()=>{t()?r():o()}}}var ai=["id","aria-label","aria-labelledby","aria-describedby"];function ci(e){const t=ze(),n=W({id:t.generateId("field")},e);return K(()=>$(t.registerField(v(n.id)))),{fieldProps:{id:()=>v(n.id),ariaLabel:()=>v(n["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(v(n.id),v(n["aria-label"]),v(n["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(v(n["aria-describedby"]))}}}function lo(e){let t;const n=ze(),o=W({id:n.generateId("label")},e),[r,i]=R(o,["ref"]),l=Ar(()=>t,()=>"label");return K(()=>$(n.registerLabel(i.id))),b(X,F({as:"label",ref(s){var a=se(c=>t=c,r.ref);typeof a=="function"&&a(s)},get for(){return Oe(()=>l()==="label")()?n.fieldId():void 0}},()=>n.dataset(),i))}function ui(e,t){K(Ye(e,n=>{if(n==null)return;const o=cc(n);o!=null&&(o.addEventListener("reset",t,{passive:!0}),$(()=>{o.removeEventListener("reset",t)}))}))}function cc(e){return uc(e)?e.form:e.closest("form")}function uc(e){return e.matches("textarea, input, select, button")}function an(e){const t=ze(),n=W({id:t.generateId("error-message")},e),[o,r]=R(n,["forceMount"]),i=()=>t.validationState()==="invalid";return K(()=>{i()&&$(t.registerErrorMessage(r.id))}),b(q,{get when(){return o.forceMount||i()},get children(){return b(X,F({as:"div"},()=>t.dataset(),r))}})}var ne=e=>typeof e=="function"?e():e,Rn=(e,t)=>{if(e.contains(t))return!0;let n=t;for(;n;){if(n===e)return!0;n=n._$host??n.parentElement}return!1},Mt=new Map,dc=e=>{K(()=>{const t=ne(e.style)??{},n=ne(e.properties)??[],o={};for(const i in t)o[i]=e.element.style[i];const r=Mt.get(e.key);r?r.activeCount++:Mt.set(e.key,{activeCount:1,originalStyles:o,properties:n.map(i=>i.key)}),Object.assign(e.element.style,e.style);for(const i of n)e.element.style.setProperty(i.key,i.value);$(()=>{const i=Mt.get(e.key);if(i){if(i.activeCount!==1){i.activeCount--;return}Mt.delete(e.key);for(const[l,s]of Object.entries(i.originalStyles))e.element.style[l]=s;for(const l of i.properties)e.element.style.removeProperty(l);e.element.style.length===0&&e.element.removeAttribute("style"),e.cleanup?.()}})})},Qo=dc,fc=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},gc=(e,t)=>{const n=getComputedStyle(e),o=t==="x"?n.overflowX:n.overflowY;return o==="auto"||o==="scroll"||e.tagName==="HTML"&&o==="visible"},hc=(e,t,n)=>{const o=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let r=e,i=0,l=0,s=!1;do{const[a,c,u]=fc(r,t),d=u-a-o*c;(c!==0||d!==0)&&gc(r,t)&&(i+=d,l+=c),r===(n??document.documentElement)?s=!0:r=r._$host??r.parentElement}while(r&&!s);return[i,l]},[er,tr]=P([]),pc=e=>er().indexOf(e)===er().length-1,mc=e=>{const t=F({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),n=Ze();let o=[0,0],r=null,i=null;K(()=>{ne(t.enabled)&&(tr(c=>[...c,n]),$(()=>{tr(c=>c.filter(u=>u!==n))}))}),K(()=>{if(!ne(t.enabled)||!ne(t.hideScrollbar))return;const{body:c}=document,u=window.innerWidth-c.offsetWidth;if(ne(t.preventScrollbarShift)){const d={overflow:"hidden"},f=[];u>0&&(ne(t.preventScrollbarShiftMode)==="padding"?d.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${u}px)`:d.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${u}px)`,f.push({key:"--scrollbar-width",value:`${u}px`}));const g=window.scrollY,h=window.scrollX;Qo({key:"prevent-scroll",element:c,style:d,properties:f,cleanup:()=>{ne(t.restoreScrollPosition)&&u>0&&window.scrollTo(h,g)}})}else Qo({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),K(()=>{!pc(n)||!ne(t.enabled)||(document.addEventListener("wheel",s,{passive:!1}),document.addEventListener("touchstart",l,{passive:!1}),document.addEventListener("touchmove",a,{passive:!1}),$(()=>{document.removeEventListener("wheel",s),document.removeEventListener("touchstart",l),document.removeEventListener("touchmove",a)}))});const l=c=>{o=nr(c),r=null,i=null},s=c=>{const u=c.target,d=ne(t.element),f=yc(c),g=Math.abs(f[0])>Math.abs(f[1])?"x":"y",h=g==="x"?f[0]:f[1],y=or(u,g,h,d);let m;d&&Rn(d,u)?m=!y:m=!0,m&&c.cancelable&&c.preventDefault()},a=c=>{const u=ne(t.element),d=c.target;let f;if(c.touches.length===2)f=!ne(t.allowPinchZoom);else{if(r==null||i===null){const g=nr(c).map((y,m)=>o[m]-y),h=Math.abs(g[0])>Math.abs(g[1])?"x":"y";r=h,i=h==="x"?g[0]:g[1]}if(d.type==="range")f=!1;else{const g=or(d,r,i,u);u&&Rn(u,d)?f=!g:f=!0}}f&&c.cancelable&&c.preventDefault()}},yc=e=>[e.deltaX,e.deltaY],nr=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],or=(e,t,n,o)=>{const r=o!==null&&Rn(o,e),[i,l]=hc(e,t,r?o:void 0);return!(n>0&&Math.abs(i)<=1||n<0&&Math.abs(l)<1)},bc=mc,di=bc,vc=e=>{const t=T(()=>{const l=ne(e.element);if(l)return getComputedStyle(l)}),n=()=>t()?.animationName??"none",[o,r]=P(ne(e.show)?"present":"hidden");let i="none";return K(l=>{const s=ne(e.show);return Q(()=>{if(l===s)return s;const a=i,c=n();s?r("present"):c==="none"||t()?.display==="none"?r("hidden"):r(l===!0&&a!==c?"hiding":"hidden")}),s}),K(()=>{const l=ne(e.element);if(!l)return;const s=c=>{c.target===l&&(i=n())},a=c=>{const d=n().includes(c.animationName);c.target===l&&d&&o()==="hiding"&&r("hidden")};l.addEventListener("animationstart",s),l.addEventListener("animationcancel",a),l.addEventListener("animationend",a),$(()=>{l.removeEventListener("animationstart",s),l.removeEventListener("animationcancel",a),l.removeEventListener("animationend",a)})}),{present:()=>o()==="present"||o()==="hiding",state:o,setState:r}},wc=vc,_n=wc,Sc={};Et(Sc,{Arrow:()=>io,Content:()=>gi,Description:()=>Zt,ErrorMessage:()=>an,HiddenSelect:()=>hi,Icon:()=>pi,Item:()=>Jt,ItemDescription:()=>Qt,ItemIndicator:()=>en,ItemLabel:()=>tn,Label:()=>mi,Listbox:()=>yi,Portal:()=>bi,Root:()=>vi,Section:()=>nn,Select:()=>we,Trigger:()=>wi,Value:()=>Si,useSelectContext:()=>_e});var fi=$e();function _e(){const e=Re(fi);if(e===void 0)throw new Error("[kobalte]: `useSelectContext` must be used within a `Select` component");return e}function gi(e){let t;const n=_e(),[o,r]=R(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),i=s=>{n.close()},l=s=>{o.onFocusOutside?.(s),n.isOpen()&&n.isModal()&&s.preventDefault()};return ri({isDisabled:()=>!(n.isOpen()&&n.isModal()),targets:()=>t?[t]:[]}),di({element:()=>t??null,enabled:()=>n.contentPresent()&&n.preventScroll()}),oi({trapFocus:()=>n.isOpen()&&n.isModal(),onMountAutoFocus:s=>{s.preventDefault()},onUnmountAutoFocus:s=>{o.onCloseAutoFocus?.(s),s.defaultPrevented||(oe(n.triggerRef()),s.preventDefault())}},()=>t),b(q,{get when(){return n.contentPresent()},get children(){return b(Qr.Positioner,{get children(){return b(si,F({ref(s){var a=se(c=>{n.setContentRef(c),t=c},o.ref);typeof a=="function"&&a(s)},get disableOutsidePointerEvents(){return Oe(()=>!!n.isModal())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get style(){return Yt({"--kb-select-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},o.style)},onEscapeKeyDown:i,onFocusOutside:l,get onDismiss(){return n.close}},()=>n.dataset(),r))}})}})}function hi(e){const t=_e();return b(Rl,F({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>t.triggerRef()?.focus()},e))}function pi(e){const t=_e(),n=W({children:""},e);return b(X,F({as:"span","aria-hidden":"true"},()=>t.dataset(),n))}function mi(e){const t=_e(),[n,o]=R(e,["onClick"]);return b(lo,F({as:"span",onClick:i=>{ae(i,n.onClick),t.isDisabled()||t.triggerRef()?.focus()}},o))}function yi(e){const t=_e(),n=W({id:t.generateId("listbox")},e),[o,r]=R(n,["ref","id","onKeyDown"]);return K(()=>$(t.registerListboxId(o.id))),b(Zn,F({ref(l){var s=se(t.setListboxRef,o.ref);typeof s=="function"&&s(l)},get id(){return o.id},get state(){return t.listState()},get virtualized(){return t.isVirtualized()},get autoFocus(){return t.autoFocus()},shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get shouldFocusWrap(){return t.shouldFocusWrap()},get disallowTypeAhead(){return t.disallowTypeAhead()},get"aria-labelledby"(){return t.listboxAriaLabelledBy()},get renderItem(){return t.renderItem},get renderSection(){return t.renderSection},onKeyDown:l=>{ae(l,o.onKeyDown),l.key==="Escape"&&l.preventDefault()}},r))}function bi(e){const t=_e();return b(q,{get when(){return t.contentPresent()},get children(){return b(br,e)}})}function xc(e){const t=`select-${Ze()}`,n=W({id:t,selectionMode:"single",disallowEmptySelection:!1,closeOnSelection:e.selectionMode==="single",allowDuplicateSelectionEvents:!0,gutter:8,sameWidth:!0,modal:!1},e),[o,r,i,l]=R(n,["itemComponent","sectionComponent","open","defaultOpen","onOpenChange","value","defaultValue","onChange","placeholder","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","closeOnSelection","disallowTypeAhead","shouldFocusWrap","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],$r),[s,a]=P(),[c,u]=P(),[d,f]=P(),[g,h]=P(),[y,m]=P(),[w,p]=P(),[S,C]=P(),[E,I]=P(!0),A=x=>{const D=o.optionValue;return D==null?String(x):String(Wn(D)?D(x):x[D])},O=T(()=>{const x=o.optionGroupChildren;return x==null?o.options:o.options.flatMap(D=>D[x]??D)}),M=T(()=>O().map(x=>A(x))),_=x=>[...x].map(D=>O().find(j=>A(j)===D)).filter(D=>D!=null),J=li({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:x=>o.onOpenChange?.(x)}),V=Mr({selectedKeys:()=>o.value!=null?o.value.map(A):o.value,defaultSelectedKeys:()=>o.defaultValue!=null?o.defaultValue.map(A):o.defaultValue,onSelectionChange:x=>{o.onChange?.(_(x)),o.closeOnSelection&&te()},allowDuplicateSelectionEvents:()=>v(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>v(o.disallowEmptySelection),selectionBehavior:()=>v(o.selectionBehavior),selectionMode:()=>o.selectionMode,dataSource:()=>o.options??[],getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren}),he=T(()=>_(V.selectionManager().selectedKeys())),Y=x=>{V.selectionManager().toggleSelection(A(x))},{present:le}=_n({show:()=>o.forceMount||J.isOpen(),element:()=>y()??null}),Z=()=>{const x=w();x&&oe(x)},ee=x=>{if(o.options.length<=0)return;I(x),J.open();let D=V.selectionManager().firstSelectedKey();D==null&&(x==="first"?D=V.collection().getFirstKey():x==="last"&&(D=V.collection().getLastKey())),Z(),V.selectionManager().setFocused(!0),V.selectionManager().setFocusedKey(D)},te=()=>{J.close(),V.selectionManager().setFocused(!1),V.selectionManager().setFocusedKey(void 0)},pe=x=>{J.isOpen()?te():ee(x)},{formControlContext:ve}=Rr(i);ui(g,()=>{const x=o.defaultValue?[...o.defaultValue].map(A):new Ce;V.selectionManager().setSelectedKeys(x)});const At=Lr({usage:"search",sensitivity:"base"}),ft=T(()=>{const x=v(o.keyboardDelegate);return x||new _r(V.collection,void 0,At)}),et=x=>o.itemComponent?.({item:x}),Pt=x=>o.sectionComponent?.({section:x});K(Ye([M],([x])=>{const j=[...V.selectionManager().selectedKeys()].filter(N=>x.includes(N));V.selectionManager().setSelectedKeys(j)},{defer:!0}));const tt=T(()=>({"data-expanded":J.isOpen()?"":void 0,"data-closed":J.isOpen()?void 0:""})),It={dataset:tt,isOpen:J.isOpen,isDisabled:()=>ve.isDisabled()??!1,isMultiple:()=>v(o.selectionMode)==="multiple",isVirtualized:()=>o.virtualized??!1,isModal:()=>o.modal??!1,preventScroll:()=>o.preventScroll??It.isModal(),disallowTypeAhead:()=>o.disallowTypeAhead??!1,shouldFocusWrap:()=>o.shouldFocusWrap??!1,selectedOptions:he,contentPresent:le,autoFocus:E,triggerRef:g,listState:()=>V,keyboardDelegate:ft,triggerId:s,valueId:c,listboxId:d,listboxAriaLabelledBy:S,setListboxAriaLabelledBy:C,setTriggerRef:h,setContentRef:m,setListboxRef:p,open:ee,close:te,toggle:pe,placeholder:()=>o.placeholder,renderItem:et,renderSection:Pt,removeOptionFromSelection:Y,generateId:ct(()=>v(i.id)),registerTriggerId:be(a),registerValueId:be(u),registerListboxId:be(f)};return b(Xn.Provider,{value:ve,get children(){return b(fi.Provider,{value:It,get children(){return b(Qr,F({anchorRef:g,contentRef:y},r,{get children(){return b(X,F({as:"div",role:"group",get id(){return v(i.id)}},()=>ve.dataset(),tt,l))}}))}})}})}function vi(e){const[t,n]=R(e,["value","defaultValue","onChange","multiple"]),o=T(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),r=T(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return b(xc,F({get value(){return o()},get defaultValue(){return r()},onChange:l=>{t.multiple?t.onChange?.(l??[]):t.onChange?.(l[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},n))}function wi(e){const t=ze(),n=_e(),o=W({id:n.generateId("trigger")},e),[r,i,l]=R(o,["ref","disabled","onPointerDown","onClick","onKeyDown","onFocus","onBlur"],ai),s=()=>n.listState().selectionManager(),a=()=>n.keyboardDelegate(),c=()=>r.disabled||n.isDisabled(),{fieldProps:u}=ci(i),{typeSelectHandlers:d}=kr({keyboardDelegate:a,selectionManager:s,onTypeSelect:p=>s().select(p)}),f=()=>[n.listboxAriaLabelledBy(),n.valueId()].filter(Boolean).join(" ")||void 0,g=p=>{ae(p,r.onPointerDown),p.currentTarget.dataset.pointerType=p.pointerType,!c()&&p.pointerType!=="touch"&&p.button===0&&(p.preventDefault(),n.toggle(!0))},h=p=>{ae(p,r.onClick),!c()&&p.currentTarget.dataset.pointerType==="touch"&&n.toggle(!0)},y=p=>{if(ae(p,r.onKeyDown),!c())switch(ae(p,d.onKeyDown),p.key){case"Enter":case" ":case"ArrowDown":p.stopPropagation(),p.preventDefault(),n.toggle("first");break;case"ArrowUp":p.stopPropagation(),p.preventDefault(),n.toggle("last");break;case"ArrowLeft":{if(p.preventDefault(),n.isMultiple())return;const S=s().firstSelectedKey(),C=S!=null?a().getKeyAbove?.(S):a().getFirstKey?.();C!=null&&s().select(C);break}case"ArrowRight":{if(p.preventDefault(),n.isMultiple())return;const S=s().firstSelectedKey(),C=S!=null?a().getKeyBelow?.(S):a().getFirstKey?.();C!=null&&s().select(C);break}}},m=p=>{ae(p,r.onFocus),!s().isFocused()&&s().setFocused(!0)},w=p=>{ae(p,r.onBlur),!n.isOpen()&&s().setFocused(!1)};return K(()=>$(n.registerTriggerId(u.id()))),K(()=>{n.setListboxAriaLabelledBy([u.ariaLabelledBy(),u.ariaLabel()&&!u.ariaLabelledBy()?u.id():null].filter(Boolean).join(" ")||void 0)}),b(Ot,F({ref(p){var S=se(n.setTriggerRef,r.ref);typeof S=="function"&&S(p)},get id(){return u.id()},get disabled(){return c()},"aria-haspopup":"listbox",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return Oe(()=>!!n.isOpen())()?n.listboxId():void 0},get"aria-label"(){return u.ariaLabel()},get"aria-labelledby"(){return f()},get"aria-describedby"(){return u.ariaDescribedBy()},onPointerDown:g,onClick:h,onKeyDown:y,onFocus:m,onBlur:w},()=>n.dataset(),()=>t.dataset(),l))}function Si(e){const t=ze(),n=_e(),o=W({id:n.generateId("value")},e),[r,i]=R(o,["id","children"]),l=()=>n.listState().selectionManager(),s=()=>{const a=l().selectedKeys();return a.size===1&&a.has("")?!0:l().isEmpty()};return K(()=>$(n.registerValueId(r.id))),b(X,F({as:"span",get id(){return r.id},get"data-placeholder-shown"(){return s()?"":void 0}},()=>t.dataset(),i,{get children(){return b(q,{get when(){return!s()},get fallback(){return n.placeholder()},get children(){return b(Cc,{state:{selectedOption:()=>n.selectedOptions()[0],selectedOptions:()=>n.selectedOptions(),remove:a=>n.removeOptionFromSelection(a),clear:()=>l().clearSelection()},get children(){return r.children}})}})}}))}function Cc(e){const t=Vn(()=>{const n=e.children;return Wn(n)?n(e.state):n});return Oe(t)}var we=Object.assign(vi,{Arrow:io,Content:gi,Description:Zt,ErrorMessage:an,HiddenSelect:hi,Icon:pi,Item:Jt,ItemDescription:Qt,ItemIndicator:en,ItemLabel:tn,Label:mi,Listbox:yi,Portal:bi,Section:nn,Trigger:wi,Value:Si}),Ec=U("<label data-slot=select-label>"),Oc=U("<p data-slot=select-error>"),Dc=U("<div data-component=select-field>");function Ac(e){const[t]=R(e,["label","placeholder","options","current","disabled","error","size","variant","onSelect"]),n=T(()=>t.options.length>0),o=T(()=>t.options.find(r=>r.value===t.current));return(()=>{var r=Dc();return L(r,b(q,{get when(){return t.label},get children(){var i=Ec();return L(i,()=>t.label),i}}),null),L(r,b(we,{"data-component":"select",placement:"bottom-start",gutter:4,flip:!0,sameWidth:!0,get options(){return t.options},get value(){return o()},optionValue:i=>i.value,optionTextValue:i=>i.label,get disallowEmptySelection(){return n()},onChange:i=>t.onSelect?.(i?.value),itemComponent:i=>b(we.Item,F(i,{"data-slot":"select-select-item",get children(){return[b(we.ItemLabel,{"data-slot":"select-select-item-label",get children(){return i.item.rawValue.label}}),b(we.ItemIndicator,{"data-slot":"select-select-item-indicator",children:""})]}})),get children(){return[b(we.Trigger,{as:Ne,get variant(){return t.variant??"secondary"},get size(){return t.size??"normal"},get disabled(){return t.disabled||!n()},"data-slot":"select-select-trigger",get children(){return[b(we.Value,{"data-slot":"select-select-trigger-value",children:i=>i.selectedOption()?.label??o()?.label??t.placeholder??(n()?"Select option":"No options")}),b(we.Icon,{"data-slot":"select-select-trigger-icon",children:""})]}}),b(we.Portal,{get children(){return b(we.Content,{"data-component":"select-content",get children(){return b(we.Listbox,{"data-slot":"select-select-content-list"})}})}})]}}),null),L(r,b(q,{get when(){return t.error},get children(){var i=Oc();return L(i,()=>t.error),i}}),null),r})()}var Pc={};Et(Pc,{Description:()=>Zt,ErrorMessage:()=>an,Input:()=>Ci,Label:()=>lo,Root:()=>Oi,TextArea:()=>Di,TextField:()=>je,useTextFieldContext:()=>ao});var xi=$e();function ao(){const e=Re(xi);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function Ci(e){return b(Ei,F({type:"text"},e))}function Ei(e){const t=ze(),n=ao(),o=W({id:n.generateId("input")},e),[r,i,l]=R(o,["onInput"],ai),{fieldProps:s}=ci(i);return b(X,F({as:"input",get id(){return s.id()},get name(){return t.name()},get value(){return n.value()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get"aria-label"(){return s.ariaLabel()},get"aria-labelledby"(){return s.ariaLabelledBy()},get"aria-describedby"(){return s.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0},get onInput(){return ce([r.onInput,n.onInput])}},()=>t.dataset(),l))}function Oi(e){let t;const n=`textfield-${Ze()}`,o=W({id:n},e),[r,i,l]=R(o,["ref","value","defaultValue","onChange"],$r),s=r.value,[a,c]=qn({value:()=>s===void 0?void 0:r.value??"",defaultValue:()=>r.defaultValue,onChange:g=>r.onChange?.(g)}),{formControlContext:u}=Rr(i);ui(()=>t,()=>c(r.defaultValue??""));const d=g=>{if(u.isReadOnly()||u.isDisabled())return;const h=g.target;c(h.value),h.value=a()??""},f={value:a,generateId:ct(()=>v(i.id)),onInput:d};return b(Xn.Provider,{value:u,get children(){return b(xi.Provider,{value:f,get children(){return b(X,F({as:"div",ref(g){var h=se(y=>t=y,r.ref);typeof h=="function"&&h(g)},role:"group",get id(){return v(i.id)}},()=>u.dataset(),l))}})}})}function Di(e){let t;const n=ao(),o=W({id:n.generateId("textarea")},e),[r,i]=R(o,["ref","autoResize","submitOnEnter","onKeyPress"]);K(Ye([()=>t,()=>r.autoResize,()=>n.value()],([s,a])=>{!s||!a||Ic(s)}));const l=s=>{t&&r.submitOnEnter&&s.key==="Enter"&&!s.shiftKey&&t.form&&(t.form.requestSubmit(),s.preventDefault())};return b(Ei,F({as:"textarea",get"aria-multiline"(){return r.submitOnEnter?"false":void 0},get onKeyPress(){return ce([r.onKeyPress,l])},ref(s){var a=se(c=>t=c,r.ref);typeof a=="function"&&a(s)}},i))}function Ic(e){const t=e.style.alignSelf,n=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=n,e.style.alignSelf=t}var je=Object.assign(Oi,{Description:Zt,ErrorMessage:an,Input:Ci,Label:lo,TextArea:Di}),Lc=U("<div data-slot=input-wrapper>");function Nn(e){const[t]=R(e,["label","hideLabel","description","error","variant","value","defaultValue","placeholder","type","multiline","readOnly","disabled","required","name","autocomplete","onInput","onKeyDown","class","classList"]);return b(je,{"data-component":"input",get"data-variant"(){return t.variant??"normal"},get required(){return t.required},get disabled(){return t.disabled},get readOnly(){return t.readOnly},get name(){return t.name},get classList(){return{...t.classList??{},[t.class??""]:!!t.class}},get children(){return[b(q,{get when(){return t.label},get children(){return b(je.Label,{"data-slot":"input-label",get classList(){return{"sr-only":t.hideLabel}},get children(){return t.label}})}}),(()=>{var n=Lc();return L(n,b(q,{get when(){return t.multiline},get fallback(){return b(je.Input,{"data-slot":"input-input",get type(){return t.type??"text"},get value(){return t.value},get defaultValue(){return t.defaultValue},get placeholder(){return t.placeholder},get autoComplete(){return t.autocomplete},get required(){return t.required},get disabled(){return t.disabled},get readOnly(){return t.readOnly},get name(){return t.name},get onInput(){return t.onInput},get onKeyDown(){return t.onKeyDown}})},get children(){return b(je.TextArea,{"data-slot":"input-input",get value(){return t.value},get defaultValue(){return t.defaultValue},get placeholder(){return t.placeholder},get required(){return t.required},get disabled(){return t.disabled},get readOnly(){return t.readOnly},get name(){return t.name},get onInput(){return t.onInput},get onKeyDown(){return t.onKeyDown}})}})),n})(),b(q,{get when(){return t.description},get children(){return b(je.Description,{"data-slot":"input-description",get children(){return t.description}})}}),b(q,{get when(){return t.error},get children(){return b(je.ErrorMessage,{"data-slot":"input-error",get children(){return t.error}})}})]}})}const On=`
${"".repeat(40)}
`;function Tc(e){const t=new WeakSet;return JSON.stringify(e,(o,r)=>{if(typeof r=="bigint")return r.toString();if(typeof r=="object"&&r){if(t.has(r))return"[Circular]";t.add(r)}return r},2)??String(e)}function Ai(e,t=0,n){if(!e)return"Unknown error";if(e instanceof Error){const r=t>0&&n===e.message,i=t>0?`
${On}Caused by:
`:"",l=`${e.name}${e.message?`: ${e.message}`:""}`,s=[],a=e.stack?.trim();if(a){const u=a.startsWith(l);if(!r)s.push(i+(u?a:`${l}
${a}`));else if(!u)s.push(i+a);else{const d=a.split(`
`).slice(1).join(`
`).trim();d&&s.push(i+d)}}else r||s.push(i+l);const c="cause"in e?e.cause:void 0;if(c){const u=Ai(c,t+1,e.message);u&&s.push(u)}return s.join(`

`)}return typeof e=="string"?t>0&&n===e?"":(t>0?`
${On}Caused by:
`:"")+e:(t>0?`
${On}Caused by:
`:"")+Tc(e)}function Pi(e){return Ai(e,0)}function Ue(e,t){if(e instanceof Error)return{message:e.message||t,details:e.stack};if(typeof e=="string")return{message:e||t};try{const n=JSON.stringify(e);if(n&&n!=="{}")return{message:t,details:n}}catch{}return{message:t}}var Kc={};Et(Kc,{CloseButton:()=>Li,Content:()=>Ti,Description:()=>Ki,Dialog:()=>Ge,Overlay:()=>Fi,Portal:()=>ki,Root:()=>Mi,Title:()=>$i,Trigger:()=>Ri,useDialogContext:()=>He});var Ii=$e();function He(){const e=Re(Ii);if(e===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return e}function Li(e){const t=He(),[n,o]=R(e,["aria-label","onClick"]);return b(Ot,F({get"aria-label"(){return n["aria-label"]||t.translations().dismiss},onClick:i=>{ae(i,n.onClick),t.close()}},o))}function Ti(e){let t;const n=He(),o=W({id:n.generateId("content")},e),[r,i]=R(o,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let l=!1,s=!1;const a=f=>{r.onPointerDownOutside?.(f),n.modal()&&f.detail.isContextMenu&&f.preventDefault()},c=f=>{r.onFocusOutside?.(f),n.modal()&&f.preventDefault()},u=f=>{r.onInteractOutside?.(f),!n.modal()&&(f.defaultPrevented||(l=!0,f.detail.originalEvent.type==="pointerdown"&&(s=!0)),Ie(n.triggerRef(),f.target)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&s&&f.preventDefault())},d=f=>{r.onCloseAutoFocus?.(f),n.modal()?(f.preventDefault(),oe(n.triggerRef())):(f.defaultPrevented||(l||oe(n.triggerRef()),f.preventDefault()),l=!1,s=!1)};return ri({isDisabled:()=>!(n.isOpen()&&n.modal()),targets:()=>t?[t]:[]}),di({element:()=>t??null,enabled:()=>n.contentPresent()&&n.preventScroll()}),oi({trapFocus:()=>n.isOpen()&&n.modal(),onMountAutoFocus:r.onOpenAutoFocus,onUnmountAutoFocus:d},()=>t),K(()=>$(n.registerContentId(i.id))),b(q,{get when(){return n.contentPresent()},get children(){return b(si,F({ref(f){var g=se(h=>{n.setContentRef(h),t=h},r.ref);typeof g=="function"&&g(f)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return Oe(()=>!!n.modal())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get"aria-labelledby"(){return n.titleId()},get"aria-describedby"(){return n.descriptionId()},get"data-expanded"(){return n.isOpen()?"":void 0},get"data-closed"(){return n.isOpen()?void 0:""},onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,get onDismiss(){return n.close}},i))}})}function Ki(e){const t=He(),n=W({id:t.generateId("description")},e),[o,r]=R(n,["id"]);return K(()=>$(t.registerDescriptionId(o.id))),b(X,F({as:"p",get id(){return o.id}},r))}function Fi(e){const t=He(),[n,o]=R(e,["ref","style","onPointerDown"]),r=i=>{ae(i,n.onPointerDown),i.target===i.currentTarget&&i.preventDefault()};return b(q,{get when(){return t.overlayPresent()},get children(){return b(X,F({as:"div",ref(i){var l=se(t.setOverlayRef,n.ref);typeof l=="function"&&l(i)},get style(){return Yt({"pointer-events":"auto"},n.style)},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:r},o))}})}function ki(e){const t=He();return b(q,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return b(br,e)}})}var rr={dismiss:"Dismiss"};function Mi(e){const t=`dialog-${Ze()}`,n=W({id:t,modal:!0,translations:rr},e),[o,r]=P(),[i,l]=P(),[s,a]=P(),[c,u]=P(),[d,f]=P(),[g,h]=P(),y=li({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:C=>n.onOpenChange?.(C)}),m=()=>n.forceMount||y.isOpen(),{present:w}=_n({show:m,element:()=>c()??null}),{present:p}=_n({show:m,element:()=>d()??null}),S={translations:()=>n.translations??rr,isOpen:y.isOpen,modal:()=>n.modal??!0,preventScroll:()=>n.preventScroll??S.modal(),contentId:o,titleId:i,descriptionId:s,triggerRef:g,overlayRef:c,setOverlayRef:u,contentRef:d,setContentRef:f,overlayPresent:w,contentPresent:p,close:y.close,toggle:y.toggle,setTriggerRef:h,generateId:ct(()=>n.id),registerContentId:be(r),registerTitleId:be(l),registerDescriptionId:be(a)};return b(Ii.Provider,{value:S,get children(){return n.children}})}function $i(e){const t=He(),n=W({id:t.generateId("title")},e),[o,r]=R(n,["id"]);return K(()=>$(t.registerTitleId(o.id))),b(X,F({as:"h2",get id(){return o.id}},r))}function Ri(e){const t=He(),[n,o]=R(e,["ref","onClick"]);return b(Ot,F({ref(i){var l=se(t.setTriggerRef,n.ref);typeof l=="function"&&l(i)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return Oe(()=>!!t.isOpen())()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:i=>{ae(i,n.onClick),t.toggle()}},o))}var Ge=Object.assign(Mi,{CloseButton:Li,Content:Ti,Description:Ki,Overlay:Fi,Portal:ki,Title:$i,Trigger:Ri}),Fc=U("<div class=app-overlay data-component=dialog data-size=normal><div class=app-overlay-container data-slot=dialog-container>"),kc=U("<header class=app-overlay-header data-slot=dialog-header><div class=app-overlay-header-actions>"),Mc=U("<dl class=app-overlay-meta><div class=app-overlay-meta-kind><dt>Kind</dt><dd><span></span></dd></div><div><dt>Scope</dt><dd></dd></div><div><dt>Time</dt><dd>"),$c=U("<section class=app-overlay-body data-slot=dialog-body><h3 class=app-overlay-section-title>Details</h3><pre class=app-overlay-details>"),Rc=U("<div class=app-overlay-actions>");function _c(e){const[t,n]=P("idle");let o;const r=T(()=>{const s=e.entry;return s?s.details?.trim()?s.details.trim():`No stack trace or extra diagnostics were captured for this ${s.kind} error.`:""}),i=T(()=>{const s=e.entry;if(!s)return"";const a=s.ts?new Date(s.ts).toISOString():new Date().toISOString(),c=s.scope??"global";return["MCPway Runtime Error",`kind: ${s.kind}`,`scope: ${c}`,`timestamp: ${a}`,"",`message: ${s.message}`,"","details:",r()].join(`
`)});K(()=>{e.entry,n("idle")}),$(()=>{o!==void 0&&window.clearTimeout(o)});async function l(){const s=i();if(!(!s||!e.entry)){try{await navigator.clipboard.writeText(s),n("copied")}catch(a){console.error("Failed to copy overlay error details",a),n("failed")}o!==void 0&&window.clearTimeout(o),o=window.setTimeout(()=>n("idle"),2400)}}return b(Ge,{get open(){return!!e.entry},onOpenChange:s=>!s&&e.onDismiss(),get children(){return b(Ge.Portal,{get children(){return[b(Ge.Overlay,{class:"app-overlay-backdrop","data-component":"dialog-overlay"}),(()=>{var s=Fc(),a=s.firstChild;return L(a,b(Ge.Content,{class:"app-overlay-card","data-slot":"dialog-content","aria-label":"Application error overlay",get children(){return b(q,{get when(){return e.entry},children:c=>[(()=>{var u=kc(),d=u.firstChild;return L(u,b(Ge.Title,{class:"app-overlay-title","data-slot":"dialog-title",children:"MCPway Runtime Error"}),d),L(d,b(yl,{label:"Dismiss overlay",size:"small",variant:"ghost",get onClick(){return e.onDismiss},children:""})),ie(()=>Ke(u,"data-kind",c().kind)),u})(),b(Ge.Description,{class:"app-overlay-message","data-slot":"dialog-description",get children(){return c().message}}),(()=>{var u=Mc(),d=u.firstChild,f=d.firstChild,g=f.nextSibling,h=g.firstChild,y=d.nextSibling,m=y.firstChild,w=m.nextSibling,p=y.nextSibling,S=p.firstChild,C=S.nextSibling;return L(h,()=>c().kind),L(w,()=>c().scope??"global"),L(C,(()=>{var E=Oe(()=>!!c().ts);return()=>E()?new Date(c().ts).toLocaleString():"now"})()),ie(()=>vt(h,`error-kind error-kind-${c().kind}`)),u})(),(()=>{var u=$c(),d=u.firstChild,f=d.nextSibling;return L(f,r),u})(),(()=>{var u=Rc();return L(u,b(Ne,{type:"button",size:"normal",variant:"ghost",onClick:()=>void l(),get children(){return Oe(()=>t()==="copied")()?"Copied":t()==="failed"?"Copy Failed":"Copy Details"}}),null),L(u,b(Ne,{type:"button",size:"normal",variant:"secondary",get onClick(){return e.onRetry},children:"Retry"}),null),L(u,b(Ne,{type:"button",size:"normal",variant:"ghost",get onClick(){return e.onDismiss},children:"Dismiss"}),null),u})()]})}})),s})()]}})}})}var Nc=U("<header class=fatal-error-header><h1>Application Error</h1><p>A code/runtime failure was detected. Details are below."),Vc=U("<div class=fatal-error-actions>"),Bc=U("<section class=fatal-error-page role=alert aria-live=assertive>");function Wc(e){return(()=>{var t=Bc();return L(t,b(Ln,{class:"fatal-error-card",get children(){return[b(vr,{class:"fatal-error-logo",alt:"MCPway"}),Nc(),b(Nn,{class:"fatal-error-field",label:"Error details",hideLabel:!0,multiline:!0,readOnly:!0,get value(){return Pi(e.error)}}),(()=>{var n=Vc();return L(n,b(Ne,{type:"button",variant:"primary",size:"large",get onClick(){return e.onRetry},children:"Retry App"}),null),L(n,b(Ne,{type:"button",variant:"secondary",size:"large",onClick:()=>void e.onCopy(),get children(){return e.copied?"Copied":"Copy Details"}}),null),n})()]}})),t})()}var zc=U("<pre>"),Hc=U('<div class=shell><header class=topbar><div class=topbar-copy><h1 class=sr-only>MCPway Inspector</h1><div class=topbar-brand-inline></div></div><div class=topbar-actions><span></span></div></header><main class=layout><div class=layout-grid-fixed><section class="panel sidebar"><div class=panel-header><h2>Controls</h2></div><div class=sidebar-body><div class=group><h2>Access</h2></div><div class=group><h2>Search</h2></div><div class=group><h2>Theme</h2></div><div class=group><h2>Sessions</h2></div></div></section><section class="panel logs"><div class=panel-header><h2>Logs</h2><span class=meta> rows</span></div></section><section class="panel metrics"><div class=panel-header><h2>Runtime</h2><span class=meta> sessions</span></div><div class=metrics-body><dl><dt>Health</dt><dd></dd></dl><h2>Metrics Snapshot'),Uc=U("<span class=empty>none"),jc=U("<code>"),Gc=U("<article class=log-row><time class=log-time></time><strong></strong><code class=log-source>:</code><p class=log-message>");const qc=15e3,Dn={background:"#101114",foreground:"#dde1ea",cursor:"#f5f7fa",ansi:["#101114","#ff5f56","#27c93f","#ffbd2e","#4a90e2","#bd93f9","#00d0d0","#f5f7fa","#3a3f4b","#ff7b72","#3fb950","#d29922","#58a6ff","#bc8cff","#39c5cf","#ffffff"]};function Xc(e){return e?new Date(e*1e3).toLocaleTimeString():"-"}function Yc(e){const t=new URL("/api/logs/ws",window.location.href);return t.protocol=window.location.protocol==="https:"?"wss:":"ws:",e&&t.searchParams.set("token",e),t.toString()}function Zc(e){return e?{Authorization:`Bearer ${e}`}:{}}function ir(e){const t=document.documentElement;t.style.setProperty("--bg",e.background),t.style.setProperty("--fg",e.foreground),t.style.setProperty("--cursor",e.cursor),t.style.setProperty("--accent",e.ansi[4]??"#4a90e2"),t.style.setProperty("--muted",e.ansi[8]??"#3a3f4b"),t.style.setProperty("--ok",e.ansi[2]??"#27c93f"),t.style.setProperty("--warn",e.ansi[3]??"#ffbd2e"),t.style.setProperty("--err",e.ansi[1]??"#ff5f56")}function Jc(){const[e,t]=P(localStorage.getItem("mcpway:web-token")??""),[n,o]=P([]),[r,i]=P("connecting"),[l,s]=P("unknown"),[a,c]=P([]),[u,d]=P({}),[f,g]=P([]),[h,y]=P(localStorage.getItem("mcpway:theme-id")??"mcpway-default"),[m,w]=P(""),[p,S]=P({}),[C,E]=P(null),[I,A]=P(null),[O,M]=P(!1);let _,J=0;const V=new Map,he=T(()=>f().find(D=>D.id===h())?.palette??Dn);K(()=>{const x=he();ir(x)}),K(()=>{localStorage.setItem("mcpway:web-token",e())}),K(()=>{localStorage.setItem("mcpway:theme-id",h())});const Y=T(()=>{const x=m().trim().toLowerCase();return x?n().filter(D=>D.message.toLowerCase().includes(x)||D.target.toLowerCase().includes(x)||D.transport.toLowerCase().includes(x)):n()});function le(x,D){S(j=>({...j,[x]:D}))}function Z(x,D,j,N){const k=j.trim()||"Unexpected error";N?.panel&&le(N.panel,k);const ue=`${x}|${D}|${k}`,Pe=Date.now(),cn={id:`${Pe}-${++J}`,scope:x,kind:D,message:k,details:N?.details,ts:Pe};N?.overlay&&E({...cn,signature:ue});const un=V.get(ue)??0;Pe-un<qc||V.set(ue,Pe)}function ee(){E(null)}async function te(){const x=I();x&&(await navigator.clipboard.writeText(Pi(x)),M(!0),window.setTimeout(()=>M(!1),2e3))}function pe(){A(null),tt(),et(!1)}async function ve(x,D={}){const j=await fetch(x,{...D,headers:{...D.headers??{},...Zc(e())}}),N=await j.text();let k=null;if(N)try{k=JSON.parse(N)}catch{k=N}if(!j.ok){const ue=`Request failed: ${j.status}`;throw k&&typeof k=="object"&&"message"in k&&typeof k.message=="string"?new Error(k.message):typeof k=="string"&&k.trim()?new Error(k.trim()):new Error(ue)}if(k&&typeof k=="object")return k;throw new Error("Received non-JSON response from API")}async function At(){try{const x=await ve("/api/logs/recent?lines=400");o(x.records??[]),le("logs",void 0)}catch(x){const D=Ue(x,"Failed to load logs");i("auth required or API unavailable"),Z("logs","network",D.message,{details:D.details,panel:"logs",overlay:!1})}}async function ft(){let x=null;try{const D=await ve("/api/runtime/health");s(String(D.status??"unknown"))}catch(D){s("disabled"),x=Ue(D,"Failed to load runtime health")}try{const D=await ve("/api/runtime/sessions");c(Array.isArray(D)?D:[])}catch(D){c([]),x||(x=Ue(D,"Failed to load runtime sessions"))}try{const D=await ve("/api/runtime/metrics");d(D)}catch(D){d({}),x||(x=Ue(D,"Failed to load runtime metrics"))}x?Z("runtime","network",x.message,{details:x.details,panel:"runtime",overlay:!1}):le("runtime",void 0)}async function et(x=!1){const D=x?"/api/themes/refresh":"/api/themes/catalog",j=x?"POST":"GET";try{const k=(await ve(D,{method:j})).themes??[];k.length>0&&(g(k),k.some(Pe=>Pe.id===h())||y(k[0].id)),le("themes",void 0)}catch(N){const k=Ue(N,"Failed to load themes");g([{id:"mcpway-default",name:"MCPway Default",source_url:"builtin",palette:Dn}]),y("mcpway-default"),Z("themes","network",k.message,{details:k.details,panel:"themes",overlay:!1})}}function Pt(){_&&_.close();let x=!1;_=new WebSocket(Yc(e())),i("connecting"),_.onopen=()=>{x=!0,i("live"),le("logs",void 0)},_.onmessage=D=>{try{const j=JSON.parse(D.data);o(N=>{const k=[...N,j];return k.length>1500?k.slice(k.length-1500):k})}catch(j){i("stream parse error");const N=Ue(j,"Failed to parse log stream payload");Z("logs","socket",N.message,{details:N.details,panel:"logs",overlay:!0})}},_.onclose=()=>{i("disconnected"),x&&Z("logs","socket","Log stream disconnected",{panel:"logs",overlay:!0})},_.onerror=()=>{i("stream error"),Z("logs","socket","Log stream connection error",{panel:"logs",overlay:!0})}}function tt(){At(),Pt(),ft()}function It(){ee(),tt(),et(!1)}return Gt(()=>{ir(Dn),At(),ft(),et(!1),Pt();const x=N=>{const k=N.message||"Unhandled runtime error",ue=N.error instanceof Error?N.error.stack:`${N.filename||"unknown"}:${N.lineno}:${N.colno}`;A(N.error??new Error(`${k}
${ue}`)),Z("global","runtime",k,{details:ue,overlay:!0})},D=N=>{const k=Ue(N.reason,"Unhandled promise rejection");A(N.reason??new Error(k.message)),Z("global","promise",k.message,{details:k.details,overlay:!0})},j=window.setInterval(()=>{ft()},5e3);window.addEventListener("error",x),window.addEventListener("unhandledrejection",D),$(()=>{window.clearInterval(j),_?.close(),window.removeEventListener("error",x),window.removeEventListener("unhandledrejection",D)})}),b(q,{get when(){return I()},get fallback(){return(()=>{var x=Hc(),D=x.firstChild,j=D.firstChild,N=j.firstChild,k=N.nextSibling,ue=j.nextSibling,Pe=ue.firstChild,cn=D.nextSibling,un=cn.firstChild,co=un.firstChild,_i=co.firstChild,Ni=_i.nextSibling,dn=Ni.firstChild;dn.firstChild;var fn=dn.nextSibling;fn.firstChild;var gn=fn.nextSibling;gn.firstChild;var uo=gn.nextSibling;uo.firstChild;var Lt=co.nextSibling,Vi=Lt.firstChild,Bi=Vi.firstChild,fo=Bi.nextSibling,Wi=fo.firstChild,zi=Lt.nextSibling,go=zi.firstChild,Hi=go.firstChild,ho=Hi.nextSibling,Ui=ho.firstChild,hn=go.nextSibling,pn=hn.firstChild,ji=pn.firstChild,Gi=ji.nextSibling;return pn.nextSibling,L(k,b(vr,{class:"topbar-logo",alt:"MCPway"})),L(Pe,r),L(ue,b(Ne,{type:"button",size:"normal",variant:"secondary",onClick:()=>void et(!0),children:"Refresh Themes"}),null),L(ue,b(Ne,{type:"button",size:"normal",variant:"secondary",onClick:tt,children:"Reconnect"}),null),L(dn,b(Nn,{label:"API Token",type:"password",get value(){return e()},onInput:z=>t(z.currentTarget.value),placeholder:"optional bearer token"}),null),L(fn,b(Nn,{label:"Filter Logs",type:"text",get value(){return m()},onInput:z=>w(z.currentTarget.value),placeholder:"message / target / transport"}),null),L(gn,b(Ac,{label:"Color Scheme",get current(){return h()},get options(){return f().map(z=>({value:z.id,label:z.name}))},onSelect:z=>z&&y(z),get error(){return p().themes}}),null),L(uo,b(wn,{class:"sessions",get children(){return b(q,{get when(){return a().length>0},get fallback(){return Uc()},get children(){return b(Bt,{get each(){return a()},children:z=>(()=>{var gt=jc();return L(gt,z),gt})()})}})}}),null),L(fo,()=>Y().length,Wi),L(Lt,b(q,{get when(){return p().logs},children:z=>b(Ln,{variant:"error",class:"panel-error",get children(){return z()}})}),null),L(Lt,b(wn,{class:"log-grid",get children(){return b(Bt,{get each(){return Y()},children:z=>(()=>{var gt=Gc(),po=gt.firstChild,mn=po.nextSibling,Tt=mn.nextSibling,qi=Tt.firstChild,Xi=Tt.nextSibling;return L(po,()=>Xc(z.ts_utc)),L(mn,()=>z.level),L(Tt,()=>z.mode,qi),L(Tt,()=>z.transport,null),L(Xi,()=>z.message||"(no message)"),ie(()=>vt(mn,`level level-${z.level}`)),gt})()})}}),null),L(ho,()=>a().length,Ui),L(hn,b(q,{get when(){return p().runtime},children:z=>b(Ln,{variant:"error",class:"panel-error",get children(){return z()}})}),pn),L(Gi,l),L(hn,b(wn,{class:"metrics-scroll",get children(){var z=zc();return L(z,()=>JSON.stringify(u(),null,2)),z}}),null),L(x,b(_c,{get entry(){return C()},onRetry:It,onDismiss:ee}),null),ie(()=>vt(Pe,`status-badge status-${r().toLowerCase().replace(/\s+/g,"-")}`)),x})()},children:x=>b(Wc,{get error(){return x()},get copied(){return O()},onRetry:pe,onCopy:()=>void te()})})}Es(()=>b(Jc,{}),document.getElementById("root"));
